import{_ as le}from"./BqWuE--e.js";import{g as pe,d as Me,a as Pe,b as Qe,s as De,c as yt,e as ft,f as xt}from"./Du_FUPRh.js";import{u as ce,b as ke,a as vt}from"./BdeBlCSG.js";import{u as oe}from"./Dw963Xf9.js";import{e as Q,o as i,c as f,i as e,F as O,d as K,t as p,n as U,z as y,a as o,q as B,l as z,m as $,r as Z,p as Se,f as xe,b as _,N as Ve,y as A,Q as gt,R as me,S as ht,u as bt,C as _t,w,U as Ee,j as ee,P as be,v as de,x as _e,h as b}from"./CRZAT9oH.js";import{_ as Ye}from"./DlAUqK2U.js";import{P as ie,a as wt}from"./vIF72wqi.js";import{u as qe,a as We,o as Xe,f as Ke,b as Ze,c as Je}from"./BlSi6R5X.js";import{c as ve}from"./qqqfUOwc.js";import{u as $e}from"./CP8DMrVv.js";import{_ as Tt}from"./DNpDUol-.js";import{_ as kt}from"./ChlC2KHF.js";import{I as Mt}from"./BMNtbKUd.js";import{I as Pt}from"./CuaAfGgN.js";import{I as je}from"./CMcKvkWm.js";import{I as St}from"./C2N-YNw5.js";import{a as Oe}from"./BD4k13ts.js";import"./lWwe4MHH.js";import"./DwBSywMz.js";var we=ve("outline","brand-speedtest","BrandSpeedtest",[["path",{d:"M5.636 19.364a9 9 0 1 1 12.728 0",key:"svg-0"}],["path",{d:"M16 9l-4 4",key:"svg-1"}]]);var $t=ve("outline","star","Star",[["path",{d:"M12 17.75l-6.172 3.245l1.179 -6.873l-5 -4.867l6.9 -1l3.086 -6.253l3.086 6.253l6.9 1l-5 4.867l1.179 6.873l-6.158 -3.245",key:"svg-0"}]]);var Ct=ve("outline","wand","Wand",[["path",{d:"M6 21l15 -15l-3 -3l-15 15l3 3",key:"svg-0"}],["path",{d:"M15 6l3 3",key:"svg-1"}],["path",{d:"M9 3a2 2 0 0 0 2 2a2 2 0 0 0 -2 2a2 2 0 0 0 -2 -2a2 2 0 0 0 2 -2",key:"svg-2"}],["path",{d:"M19 13a2 2 0 0 0 2 2a2 2 0 0 0 -2 2a2 2 0 0 0 -2 -2a2 2 0 0 0 2 -2",key:"svg-3"}]]);var et=ve("filled","circle-check-filled","CircleCheckFilled",[["path",{d:"M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-1.293 5.953a1 1 0 0 0 -1.32 -.083l-.094 .083l-3.293 3.292l-1.293 -1.292l-.094 -.083a1 1 0 0 0 -1.403 1.403l.083 .094l2 2l.094 .083a1 1 0 0 0 1.226 0l.094 -.083l4 -4l.083 -.094a1 1 0 0 0 -.083 -1.32z",key:"svg-0"}]]);const Lt={key:0,class:"h-4 w-4 animate-spin rounded-full border-2 border-current/30 border-t-current"},Nt=Q({__name:"Latency",props:{proxyName:{},testUrl:{},class:{}},emits:["click"],setup(a){const t=a,c=ce(),r=oe(),x=y(()=>t.class||""),l=y(()=>c.getLatencyByName(t.proxyName,t.testUrl)),m=y(()=>c.proxyLatencyTestingMap[t.proxyName]||!1),d=y(()=>pe(l.value,r.latencyQualityMap)),h=y(()=>l.value||"---");return(k,R)=>(i(),f("span",{class:U(["flex w-11 cursor-pointer items-center justify-center rounded-md px-1.5 py-1 text-xs font-semibold whitespace-nowrap transition-all duration-200 ease-in-out hover:scale-105",[e(d),e(x)]]),onClick:R[0]||(R[0]=g=>k.$emit("click",g))},[e(m)?(i(),f("span",Lt)):(i(),f(O,{key:1},[K(p(e(h)),1)],64))],2))}}),ge=Object.assign(Nt,{__name:"Latency"}),Ut={class:"flex items-center gap-2"},Rt={class:"my-1 flex flex-1 items-center justify-center overflow-hidden rounded-2xl"},It=Q({__name:"ProxyPreviewBar",props:{proxyNameList:{},testUrl:{},now:{}},setup(a){const t=a,c=ce(),r=oe(),x=y(()=>t.proxyNameList.map(v=>c.getLatencyByName(v,t.testUrl))),l=y(()=>x.value.length||1),m=y(()=>x.value.filter(v=>v>r.latencyQualityMap.NOT_CONNECTED&&v<=r.latencyQualityMap.MEDIUM).length),d=y(()=>x.value.filter(v=>v>r.latencyQualityMap.MEDIUM&&v<=r.latencyQualityMap.HIGH).length),h=y(()=>x.value.filter(v=>v>r.latencyQualityMap.HIGH).length),k=y(()=>x.value.filter(v=>v===r.latencyQualityMap.NOT_CONNECTED).length),R=y(()=>m.value*100/l.value),g=y(()=>d.value*100/l.value),S=y(()=>h.value*100/l.value),I=y(()=>k.value*100/l.value);return(v,D)=>{const H=ge;return i(),f("div",Ut,[o("div",Rt,[o("div",{class:"h-2 bg-green-600",style:B({width:`${e(R)}%`})},null,4),o("div",{class:"h-2 bg-yellow-500",style:B({width:`${e(g)}%`})},null,4),o("div",{class:"h-2 bg-red-500",style:B({width:`${e(S)}%`})},null,4),o("div",{class:"h-2 bg-[var(--color-neutral)]",style:B({width:`${e(I)}%`})},null,4)]),a.now?(i(),z(H,{key:0,"proxy-name":a.now,"test-url":a.testUrl},null,8,["proxy-name","test-url"])):$("",!0)])}}}),Dt=Object.assign(It,{__name:"ProxyPreviewBar"}),Et={class:"flex items-center gap-2"},jt={class:"flex flex-1 flex-wrap items-center gap-1"},Ot=["title","onClick"],Bt=Q({__name:"ProxyPreviewDots",props:{proxyNameList:{},testUrl:{},now:{},onSelect:{type:Function}},setup(a){const t=a,c=ce(),r=oe(),x=y(()=>t.proxyNameList.map(m=>[m,c.getLatencyByName(m,t.testUrl)]));function l(m,d){const h=r.latencyQualityMap.NOT_CONNECTED,k=r.latencyQualityMap.MEDIUM,R=r.latencyQualityMap.HIGH;return typeof m!="number"||m===h?d?"dot-neutral-selected":"dot-neutral":m>R?d?"dot-slow-selected":"dot-slow":m>k?d?"dot-medium-selected":"dot-medium":d?"dot-good-selected":"dot-good"}return(m,d)=>{const h=ge;return i(),f("div",Et,[o("div",jt,[(i(!0),f(O,null,Z(e(x),([k,R])=>(i(),f("div",{key:k,class:U(["size-4 rounded-full transition-transform duration-200 ease-out",[l(R,k===a.now),a.onSelect&&"cursor-pointer hover:scale-125"]]),title:k,onClick:Se(g=>a.onSelect&&a.onSelect(k),["stop"])},null,10,Ot))),128))]),a.now?(i(),z(h,{key:0,"proxy-name":a.now,"test-url":a.testUrl},null,8,["proxy-name","test-url"])):$("",!0)])}}}),Gt=Object.assign(Ye(Bt,[["__scopeId","data-v-476aafa9"]]),{__name:"ProxyPreviewDots"}),zt=Q({__name:"ProxyNodePreview",props:{proxyNameList:{},testUrl:{},now:{},onSelect:{type:Function}},setup(a){const t=a,c=oe(),r=y(()=>c.proxiesPreviewType===ie.OFF),x=y(()=>t.proxyNameList.length<=c.proxiesPreviewAutoThreshold),l=y(()=>{const d=c.proxiesPreviewType;return d===ie.BAR||d===ie.Auto&&!x.value}),m=y(()=>{const d=c.proxiesPreviewType;return d===ie.DOTS||d===ie.Auto&&x.value});return(d,h)=>{const k=Dt,R=Gt;return e(r)?$("",!0):(i(),f(O,{key:0},[e(l)?(i(),z(k,{key:0,"proxy-name-list":a.proxyNameList,"test-url":a.testUrl,now:a.now},null,8,["proxy-name-list","test-url","now"])):e(m)?(i(),z(R,{key:1,"proxy-name-list":a.proxyNameList,"test-url":a.testUrl,now:a.now,"on-select":a.onSelect},null,8,["proxy-name-list","test-url","now","on-select"])):$("",!0)],64))}}}),Be=Object.assign(zt,{__name:"ProxyNodePreview"}),At={class:"line-clamp-1 min-w-0 flex-1 text-sm font-medium break-all"},Ht={key:1,class:"shrink-0 rounded bg-info px-1.5 py-0.5 text-[0.625rem] font-semibold text-info-content"},Ft={key:2,class:"hidden text-xs uppercase opacity-60 sm:inline"},Qt={class:"hidden text-xs uppercase opacity-75 sm:inline"},Vt={class:"flex flex-col items-center gap-2"},Yt={class:"text-lg font-bold"},qt={key:0,class:"w-full text-xs uppercase"},Wt={key:1,class:"flex max-h-60 w-full flex-col gap-2 overflow-y-auto"},Xt={class:"flex flex-col gap-1"},Kt={class:"text-sm italic"},Zt={key:2,class:"text-sm opacity-75"},Jt=Q({__name:"ProxyNodeListItem",props:{proxyName:{},testUrl:{},timeout:{},isSelected:{type:Boolean,default:!1}},emits:["click"],setup(a,{emit:t}){const c=a,r=t,x=ce(),l=oe(),{t:m}=xe(),d=y(()=>x.proxyNodeMap[c.proxyName]),h=y(()=>Pe(d.value?.type||"",m)),k=y(()=>d.value?.xudp||d.value?.udp),R=y(()=>x.proxyLatencyTestingMap[c.proxyName]||!1),g=y(()=>!d.value||!Qe(d.value.type)?null:[d.value.xudp&&"xudp",d.value.udp&&"udp",d.value.tfo&&"TFO"].filter(Boolean).join(" / ")),S=y(()=>x.getLatencyHistoryByName(c.proxyName,c.testUrl).toReversed()),I=A(null),v=A(null),D=A(null),H=A(!1),{floatingStyles:F,middlewareData:J,placement:q}=qe(I,v,{placement:"top",strategy:"fixed",middleware:[Xe(10),Ke(),Ze({padding:8}),Je({element:D})],whileElementsMounted:We}),V=y(()=>{const se=J.value.arrow,n=q.value.split("-")[0]||"top",C={top:"bottom",right:"left",bottom:"top",left:"right"}[n]||"bottom";return{left:se?.x!=null?`${se.x}px`:"",top:se?.y!=null?`${se.y}px`:"",[C]:"-4px"}});let L=null,j=null;function W(){L&&(clearTimeout(L),L=null),j&&(clearTimeout(j),j=null)}function ne(){W(),L=setTimeout(()=>{H.value=!0},300)}function s(){W(),j=setTimeout(()=>{H.value=!1},100)}function u(){W()}function N(){W(),H.value=!1}function Y(){r("click")}function G(){x.proxyLatencyTest(c.proxyName,d.value?.provider||"",c.testUrl,c.timeout)}return(se,n)=>{const M=ge;return i(),f("div",{class:U(["relative z-0",a.isSelected?"z-10":""])},[o("div",{ref_key:"reference",ref:I,class:U(["relative rounded-lg transition-all duration-300",a.isSelected?"animate-glow-pulse bg-primary text-primary-content":"bg-neutral text-neutral-content hover:shadow-md"]),onMouseenter:ne,onMouseleave:s},[o("div",{class:U(["flex items-center gap-2 px-3 py-1.5",{"cursor-pointer hover:opacity-80":!!Y}]),onClick:Y},[a.isSelected?(i(),z(e(et),{key:0,class:"size-4 shrink-0"})):$("",!0),o("span",At,p(a.proxyName),1),e(k)?(i(),f("span",Ht,"U")):$("",!0),e(g)?(i(),f("span",Ft,p(e(g)),1)):$("",!0),o("span",Qt,p(e(h)),1),_(M,{"proxy-name":a.proxyName,"test-url":a.testUrl,class:U(["shrink-0",{"animate-pulse":e(R)}]),onClick:Se(G,["stop"])},null,8,["proxy-name","test-url","class"])],2),(i(),z(Ve,{to:"body"},[e(H)?(i(),f("div",{key:0,ref_key:"floating",ref:v,style:B(e(F)),class:"z-50 w-max max-w-80 rounded-xl bg-primary p-2.5 text-primary-content shadow-lg",onMouseenter:u,onMouseleave:N},[o("div",{ref_key:"floatingArrow",ref:D,class:"absolute size-2 rotate-45 bg-primary",style:B(e(V))},null,4),o("div",Vt,[o("h2",Yt,p(a.proxyName),1),e(g)?(i(),f("div",qt," ("+p(e(g))+") ",1)):$("",!0),e(S).length>0?(i(),f("div",Wt,[(i(!0),f(O,null,Z(e(S),(C,ye)=>(i(),f("div",{key:ye,class:"flex items-start gap-2"},[n[0]||(n[0]=o("div",{class:"mt-1.5 size-2 rounded-full bg-current opacity-50"},null,-1)),o("div",Xt,[o("time",Kt,p(e(Me)(C.time).format("YYYY-MM-DD HH:mm:ss")),1),o("div",{class:U(["inline-block rounded px-2 py-0.5 text-xs",e(pe)(C.delay,e(l).latencyQualityMap)])},p(C.delay||"---"),3)])]))),128))])):(i(),f("div",Zt,p(e(m)("noLatencyHistory")),1))])],36)):$("",!0)]))],34)],2)}}}),Ge=Object.assign(Jt,{__name:"ProxyNodeListItem"}),tt={latency:50,stability:30,successRate:20},ze={good:80,medium:50};function eo(a){const t=a.filter(m=>m!==null&&m>0);if(t.length===0)return 0;const c=t.reduce((m,d)=>m+d,0)/t.length;if(c<=50)return 100;if(c>=5e3)return 0;const r=Math.log(50),x=Math.log(5e3),l=Math.log(c);return Math.round(100*(1-(l-r)/(x-r)))}function to(a){const t=a.filter(d=>d!==null&&d>0);if(t.length<2)return 50;const c=t.reduce((d,h)=>d+h,0)/t.length,x=t.map(d=>(d-c)**2).reduce((d,h)=>d+h,0)/t.length,m=Math.sqrt(x)/c;return m<=.1?100:m>=.5?0:Math.round(100*(1-(m-.1)/.4))}function oo(a){if(a.length===0)return 0;const t=a.filter(c=>c.success).length;return Math.round(t/a.length*100)}function ot(a,t=tt){if(a.history.length===0)return 0;const c=a.history.map(g=>g.latency),r=eo(c),x=to(c),l=oo(a.history),m=t.latency+t.stability+t.successRate,d=t.latency/m,h=t.stability/m,k=t.successRate/m,R=r*d+x*h+l*k;return Math.round(R)}function no(a){return a>=ze.good?"text-success":a>=ze.medium?"text-warning":"text-error"}function so(a){const t=Math.floor((Date.now()-a)/1e3);return t<60?`${t}s ago`:t<3600?`${Math.floor(t/60)}m ago`:t<86400?`${Math.floor(t/3600)}h ago`:`${Math.floor(t/86400)}d ago`}function ro(a,t,c,r=tt){let x=null,l=-1;for(const m of a){if(c.includes(m))continue;const d=t.get(m);if(!d||d.history.length===0)continue;const h=ot(d,r);h>l&&(l=h,x=m)}return x}const lo={key:0,class:"absolute -top-1 -right-1 z-1 flex size-4 items-center justify-center rounded-full bg-info text-[0.625rem] font-bold text-info-content"},ao=["title"],io={class:"m-0 line-clamp-1 text-start text-sm leading-tight font-semibold break-all"},co={class:"flex items-end justify-between gap-1"},uo={class:"flex flex-col gap-0.5"},po={class:"text-xs font-semibold uppercase opacity-75"},mo={key:0,class:"flex items-center gap-1 text-[0.625rem]"},yo={key:0,class:"opacity-50"},fo={key:0,class:"flex h-1.5 w-full gap-px overflow-hidden rounded-full"},xo={class:"flex flex-col items-center gap-2"},vo={class:"m-0 text-lg font-bold"},go={key:0,class:"w-full text-center text-xs uppercase opacity-80"},ho={key:1,class:"w-full rounded-lg bg-[color-mix(in_oklch,var(--color-primary-content)_10%,transparent)] p-2"},bo={class:"mb-1 flex items-center justify-between text-[0.625rem] opacity-70"},_o={viewBox:"0 0 100 50",class:"h-8 w-full",preserveAspectRatio:"none"},wo=["d"],To=["cx","cy"],ko={class:"mt-1 flex items-center justify-between text-[0.625rem] opacity-70"},Mo={key:2,class:"m-0 max-h-48 w-full list-none overflow-y-auto p-0 pr-2 [scrollbar-color:color-mix(in_oklch,var(--color-primary-content)_30%,transparent)_transparent] [scrollbar-width:thin] [&::-webkit-scrollbar]:block [&::-webkit-scrollbar]:w-1 [&::-webkit-scrollbar-thumb]:rounded-sm [&::-webkit-scrollbar-thumb]:bg-[color-mix(in_oklch,var(--color-primary-content)_30%,transparent)] [&::-webkit-scrollbar-track]:bg-transparent"},Po={class:"flex items-start gap-2 border-b border-[color-mix(in_oklch,var(--color-primary-content)_15%,transparent)] py-1.5 last:border-b-0"},So={class:"shrink-0 opacity-80"},$o={class:"flex min-w-0 flex-1 flex-col gap-1"},Co={class:"text-xs italic opacity-80"},Lo={class:"flex items-center gap-2"},No={key:0,class:"h-1.5 flex-1 overflow-hidden rounded-full bg-[color-mix(in_oklch,var(--color-primary-content)_15%,transparent)]"},Uo={key:3,class:"text-center text-sm opacity-75"},Ae=10,Ro=Q({__name:"ProxyNodeCard",props:{proxyName:{},testUrl:{},timeout:{},isSelected:{type:Boolean,default:!1},isRecommended:{type:Boolean,default:!1},providerName:{default:""},groupName:{default:""}},emits:["click"],setup(a,{emit:t}){const c=a,r=t,x=ce(),l=oe(),m=$e(),{t:d}=xe(),h=y(()=>x.proxyNodeMap[c.proxyName]),k=y(()=>Pe(h.value?.type||"",d)),R=y(()=>h.value?.xudp||h.value?.udp),g=y(()=>m.getNodePerformance(c.proxyName)),S=y(()=>{const P=g.value;return!P||P.history.length===0?null:ot(P,m.scoringWeights)}),I=y(()=>{const P=g.value;return P?so(P.lastTestTime):null}),v=y(()=>{const P=g.value;if(!P||P.history.length<2)return null;const T=P.history.filter(X=>X.success&&X.latency!==null).map(X=>X.latency).slice(0,10).reverse();if(T.length<2)return null;const te=Math.min(...T),E=Math.max(...T),re=E-te||1,Ue=Math.round(T.reduce((X,ue)=>X+ue,0)/T.length),dt=T.reduce((X,ue)=>X+(ue-Ue)**2,0)/T.length,pt=Math.round(Math.sqrt(dt)),Re=P.history.length,Ie=P.history.filter(X=>X.success).length,mt=Math.round(Ie/Re*100);return{points:T.map((X,ue)=>({x:ue/(T.length-1)*100,y:100-(X-te)/re*80-10})),min:te,max:E,avg:Ue,jitter:pt,successRate:mt,totalTests:Re,successTests:Ie}}),D=y(()=>{if(!v.value)return"";const{points:P}=v.value;return P.map((T,te)=>`${te===0?"M":"L"} ${T.x} ${T.y}`).join(" ")}),H=y(()=>S.value===null?"":no(S.value)),F=y(()=>c.providerName&&x.proxyProviderLatencyTestingMap[c.providerName]||!1),J=y(()=>c.groupName&&x.proxyGroupLatencyTestingMap[c.groupName]||!1),q=y(()=>x.proxyLatencyTestingMap[c.proxyName]||F.value||J.value),V=y(()=>Qe(h.value?.type)?`(${[h.value?.xudp&&"xudp",h.value?.udp&&"udp",h.value?.tfo&&"TFO"].filter(Boolean).join(" / ")})`:null),L=y(()=>x.getLatencyHistoryByName(c.proxyName,c.testUrl).toReversed()),j=y(()=>x.getLatencyHistoryByName(c.proxyName,c.testUrl).map(T=>({colorClass:T.delay?pe(T.delay,l.latencyQualityMap):"text-neutral-content/30"}))),W=A(null),ne=A(null),s=A(null),u=A(!1),{floatingStyles:N,middlewareData:Y,placement:G}=qe(W,ne,{placement:"top",strategy:"fixed",middleware:[Xe(10),Ke(),Ze({padding:8}),Je({element:s})],whileElementsMounted:We}),se=y(()=>{const P=Y.value.arrow,T=G.value.split("-")[0]||"top",E={top:"bottom",right:"left",bottom:"top",left:"right"}[T]||"bottom";return{left:P?.x!=null?`${P.x}px`:"",top:P?.y!=null?`${P.y}px`:"",[E]:"-4px"}});let n=null,M=null;function C(){n&&(clearTimeout(n),n=null),M&&(clearTimeout(M),M=null)}function ye(){u.value=!0,document.addEventListener("click",ae,!0),document.addEventListener("touchstart",ae,!0)}function he(){u.value=!1,document.removeEventListener("click",ae,!0),document.removeEventListener("touchstart",ae,!0)}function ae(P){const T=P.target;W.value?.contains(T)||ne.value?.contains(T)||he()}function nt(){C(),n=setTimeout(()=>{ye()},300)}function st(){C(),M=setTimeout(()=>{he()},100)}function rt(){C()}function lt(){C(),he()}let Ce=0,Le=0,fe=!1;function at(P){if(u.value)return;const T=P.touches[0];T&&(Ce=T.clientX,Le=T.clientY,fe=!1)}function it(P){if(fe)return;const T=P.touches[0];if(!T)return;const te=Math.abs(T.clientX-Ce),E=Math.abs(T.clientY-Le);(te>Ae||E>Ae)&&(fe=!0)}function ct(){!fe&&!u.value&&ye()}gt(()=>{C(),document.removeEventListener("click",ae,!0),document.removeEventListener("touchstart",ae,!0)});function Ne(){r("click")}function ut(){x.proxyLatencyTest(c.proxyName,h.value?.provider||"",c.testUrl,c.timeout)}return(P,T)=>{const te=ge;return i(),f("div",{class:U(["relative p-1",a.isSelected?"z-10":"z-0"])},[o("div",{ref_key:"reference",ref:W,class:U(["relative w-full rounded-[0.625rem] transition-all duration-300 ease-[cubic-bezier(0.4,0,0.2,1)]",[a.isSelected?"scale-[1.02] animate-[glowPulse_2s_ease-in-out_infinite] bg-primary text-primary-content":"bg-neutral text-neutral-content hover:scale-[1.01] hover:shadow-[0_4px_12px_color-mix(in_oklch,var(--color-base-content)_15%,transparent)]",e(q)?"animate-[testingPulse_1.5s_ease-in-out_infinite] border border-[color-mix(in_oklch,var(--color-success)_50%,transparent)]":""]]),onMouseenter:nt,onMouseleave:st,onTouchstart:at,onTouchmove:it,onTouchend:ct},[e(R)?(i(),f("div",lo," U ")):$("",!0),a.isRecommended?(i(),f("div",{key:1,class:"absolute -top-1 -left-1 z-1 flex size-4 items-center justify-center rounded-full bg-warning text-warning-content",title:e(d)("recommendation.recommended","Recommended")},[_(e($t),{class:"size-3"})],8,ao)):$("",!0),o("div",{class:U(["flex flex-col gap-2 p-[0.625rem]",{"cursor-pointer":!!Ne}]),onClick:Ne},[o("h2",io,p(a.proxyName),1),o("div",co,[o("div",uo,[o("div",po,p(e(k)),1),e(S)!==null?(i(),f("div",mo,[o("span",{class:U([e(H),"font-bold"])},p(e(S)),3),e(I)?(i(),f("span",yo,p(e(I)),1)):$("",!0)])):$("",!0)]),_(te,{"proxy-name":a.proxyName,"test-url":a.testUrl,class:U({"animate-pulse":e(q)}),onClick:Se(ut,["stop"])},null,8,["proxy-name","test-url","class"])]),e(L).length>1?(i(),f("div",fo,[(i(!0),f(O,null,Z(e(j),(E,re)=>(i(),f("div",{key:re,class:U(["h-full flex-1 bg-current first:rounded-l-full last:rounded-r-full",E.colorClass])},null,2))),128))])):$("",!0)],2),(i(),z(Ve,{to:"body"},[e(u)?(i(),f("div",{key:0,ref_key:"floating",ref:ne,style:B(e(N)),class:"z-50 w-max max-w-80 rounded-xl bg-primary p-3 text-primary-content shadow-[0_10px_40px_color-mix(in_oklch,var(--color-base-content)_30%,transparent)]",onMouseenter:rt,onMouseleave:lt},[o("div",{ref_key:"floatingArrow",ref:s,class:"absolute size-2 rotate-45 bg-primary",style:B(e(se))},null,4),o("div",xo,[o("h2",vo,p(a.proxyName),1),e(V)?(i(),f("div",go,p(e(V)),1)):$("",!0),e(v)?(i(),f("div",ho,[o("div",bo,[o("span",null,p(e(v).min)+"ms",1),o("span",null,"avg: "+p(e(v).avg)+"ms",1),o("span",null,p(e(v).max)+"ms",1)]),(i(),f("svg",_o,[T[0]||(T[0]=o("line",{x1:"0",y1:"25",x2:"100",y2:"25",stroke:"currentColor","stroke-opacity":"0.1","stroke-dasharray":"2,2"},null,-1)),o("path",{d:e(D),fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"opacity-80"},null,8,wo),(i(!0),f(O,null,Z(e(v).points,(E,re)=>(i(),f("circle",{key:re,cx:E.x,cy:E.y,r:"2",fill:"currentColor",class:"opacity-60"},null,8,To))),128))])),o("div",ko,[o("span",null,"jitter: "+p(e(v).jitter)+"ms",1),o("span",null,p(e(v).successTests)+"/"+p(e(v).totalTests)+" ("+p(e(v).successRate)+"%)",1)])])):$("",!0),e(L).length>0?(i(),f("ul",Mo,[(i(!0),f(O,null,Z(e(L),(E,re)=>(i(),f("li",{key:re},[o("div",Po,[o("div",So,[_(e(et),{class:"size-4"})]),o("div",$o,[o("time",Co,p(e(Me)(E.time).format("YYYY-MM-DD HH:mm:ss")),1),o("div",Lo,[o("div",{class:U(["inline-block rounded-full px-2 py-0.5 text-xs font-semibold",e(pe)(E.delay,e(l).latencyQualityMap)])},p(E.delay||"---"),3),E.delay&&e(v)?(i(),f("div",No,[o("div",{class:U(["h-full rounded-full bg-current transition-all duration-300",e(pe)(E.delay,e(l).latencyQualityMap)]),style:B({width:`${Math.min(E.delay/e(v).max*100,100)}%`})},null,6)])):$("",!0)])])])]))),128))])):(i(),f("div",Uo,p(e(d)("noLatencyHistory")),1))])],36)):$("",!0)]))],34)],2)}}}),He=Object.assign(Ro,{__name:"ProxyNodeCard"}),Io={class:"flex items-center gap-2 pt-1"},Do={class:"h-2 flex-1 overflow-hidden rounded-full bg-base-content/15"},Eo={class:"flex items-center justify-center rounded-full bg-secondary px-2 py-0.5 text-xs font-semibold text-secondary-content"},jo={class:"mt-1.5 flex flex-wrap items-center justify-between gap-2"},Oo={class:"text-sm text-base-content/60"},Bo={class:"text-sm text-base-content/60"},Go=Q({__name:"SubscriptionInfo",props:{subscriptionInfo:{}},setup(a){const t=a,{t:c}=xe(),r=y(()=>t.subscriptionInfo?ke(t.subscriptionInfo.Total||0,{units:"iec"}).toString():"0 B"),x=y(()=>{if(!t.subscriptionInfo)return"0 B";const{Download:d=0,Upload:h=0}=t.subscriptionInfo;return ke(d+h,{units:"iec"}).toString()}),l=y(()=>{if(!t.subscriptionInfo?.Total)return 0;const{Download:d=0,Upload:h=0,Total:k=1}=t.subscriptionInfo;return Math.min(Number(((d+h)/k*100).toFixed(1)),999)}),m=y(()=>t.subscriptionInfo?.Expire?Me(t.subscriptionInfo.Expire*1e3).format("YYYY-MM-DD"):c("noExpire"));return(d,h)=>a.subscriptionInfo?(i(),f(O,{key:0},[o("div",Io,[o("div",Do,[o("div",{class:"h-full rounded-full transition-[width] duration-500 ease-out",style:B({width:`${e(l)}%`,background:"linear-gradient(90deg, var(--color-primary), var(--color-secondary))"})},null,4)]),o("div",Eo,p(e(l))+"% ",1)]),o("div",jo,[o("div",Oo,p(e(x))+" / "+p(e(r)),1),o("div",Bo,p(e(c)("expire"))+": "+p(e(m)),1)])],64)):$("",!0)}}),zo=Object.assign(Go,{__name:"SubscriptionInfo"}),Ao={class:"overflow-hidden rounded-xl transition-[background,border-color] duration-200 ease-out select-none hover:border-[color-mix(in_oklch,var(--color-primary)_40%,transparent)] hover:bg-[color-mix(in_oklch,var(--color-base-200)_95%,transparent)]",style:{background:"color-mix(in oklch, var(--color-base-200) 80%, transparent)",border:`1px solid
        color-mix(in oklch, var(--color-secondary) 30%, transparent)`,"box-shadow":`0 2px 8px
        color-mix(in oklch, var(--color-base-content) 5%, transparent)`}},Ho=Q({__name:"Collapse",props:{isOpen:{type:Boolean,default:!1}},emits:["collapse"],setup(a,{emit:t}){const c=t,r=oe(),x=y(()=>r.proxiesDisplayMode===wt.LIST);return(l,m)=>(i(),f("div",Ao,[o("div",{class:"flex cursor-pointer items-center justify-between p-4 pr-3 text-xl font-medium text-[var(--color-base-content)]",onClick:m[0]||(m[0]=d=>c("collapse",!a.isOpen))},[me(l.$slots,"title"),o("div",{class:U(["flex h-6 w-6 items-center justify-center text-[color-mix(in_oklch,var(--color-base-content)_50%,transparent)] transition-transform duration-300 ease-[cubic-bezier(0.4,0,0.2,1)]",a.isOpen?"rotate-180":""])},[...m[1]||(m[1]=[o("svg",{class:"h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[o("path",{d:"m6 9 6 6 6-6"})],-1)])],2)]),o("div",{class:U(["gap-3 px-4 pt-2 pb-4 transition-opacity duration-300 ease-out",[a.isOpen?"opacity-100":"hidden opacity-0",e(x)?"flex flex-col":"grid grid-cols-[repeat(auto-fill,minmax(180px,1fr))]"]])},[a.isOpen?me(l.$slots,"default",{key:0}):$("",!0)],2)]))}}),Fo=Object.assign(Ho,{__name:"Collapse"}),Qo={key:0,class:"flex gap-2"},Vo={class:"isolate flex flex-1 flex-col gap-2"},Yo={class:"isolate flex flex-1 flex-col gap-2"},qo={key:1,class:"isolate flex flex-col gap-2"},Wo=Q({__name:"ProxiesRenderWrapper",setup(a,{expose:t}){const c=oe(),{width:r}=ht(),x=y(()=>r.value>480),l=y(()=>c.renderProxiesInTwoColumns&&x.value);return t({isTwoColumns:l}),(m,d)=>e(l)?(i(),f("div",Qo,[o("div",Vo,[me(m.$slots,"even")]),o("div",Yo,[me(m.$slots,"odd")])])):(i(),f("div",qo,[me(m.$slots,"default")]))}}),Xo=Object.assign(Wo,{__name:"ProxiesRenderWrapper"}),Te=10,Fe=200;function Ko(){const a=oe(),t=$e(),c=A(!1),r=A({completed:0,total:0,current:""}),x=A(null),l=async(g,S,I)=>{try{const D=await Oe().get(`proxies/${encodeURIComponent(g)}/delay`,{searchParams:{url:S,timeout:I}}).json();return{proxyName:g,delay:D.delay}}catch{return{proxyName:g,delay:0}}},m=async(g,S,I)=>{try{return await Oe().get(`group/${encodeURIComponent(g)}/delay`,{searchParams:{url:S,timeout:I}}).json()}catch{return{}}},d=async(g,S)=>{const{url:I,timeout:v,onProgress:D,onNodeComplete:H}=S,F={};c.value=!0,r.value={completed:0,total:g.length,current:""},x.value=new AbortController,t.batchTestProgress={total:g.length,completed:0,current:null,isRunning:!0};try{for(let J=0;J<g.length&&!x.value?.signal.aborted;J+=Te){const V=g.slice(J,J+Te).map(async L=>{r.value.current=L,t.batchTestProgress.current=L;const j=await l(L,I,v);return F[L]=j.delay,r.value.completed++,t.batchTestProgress.completed++,D?.(r.value.completed,g.length,L),H?.(L,j.delay),t.recordTestResult(L,j.delay>0?j.delay:null,j.delay>0),j});await Promise.all(V),J+Te<g.length&&!x.value?.signal.aborted&&await new Promise(L=>setTimeout(L,Fe))}}finally{c.value=!1,r.value.current="",t.batchTestProgress={total:g.length,completed:r.value.completed,current:null,isRunning:!1},x.value=null}return F},h=async(g,S)=>{const I=S?.url??a.urlForLatencyTest,v=S?.timeout??a.latencyTestTimeoutDuration;c.value=!0,t.batchTestProgress={total:1,completed:0,current:g,isRunning:!0};try{const D=await m(g,I,v);return t.recordBatchResults(D),D}finally{c.value=!1,t.batchTestProgress={total:1,completed:1,current:null,isRunning:!1}}};return{isRunning:c,progress:r,batchTestNodes:d,testGroupNodes:h,testMultipleGroups:async(g,S)=>{const I={};c.value=!0,t.batchTestProgress={total:g.length,completed:0,current:null,isRunning:!0};try{for(let v=0;v<g.length;v++){const D=g[v];if(!D)continue;t.batchTestProgress.current=D,t.batchTestProgress.completed=v;const H=await h(D,S);I[D]=H,v<g.length-1&&await new Promise(F=>setTimeout(F,Fe))}}finally{c.value=!1,t.batchTestProgress={total:g.length,completed:g.length,current:null,isRunning:!1}}return I},abortTest:()=>{x.value?.abort()}}}const Zo={class:"flex h-full flex-col gap-3 overflow-y-auto p-2"},Jo={class:"animate-fade-slide-in flex flex-wrap items-center gap-3"},en={class:"flex gap-1 rounded-xl border border-base-content/8 bg-base-200/60 p-1 backdrop-blur-sm"},tn=["onClick"],on={class:"font-medium"},nn={class:"flex items-center gap-2"},sn={class:"hidden text-sm font-medium sm:inline"},rn={key:1,class:"flex items-center gap-2 rounded-lg bg-success/10 px-3 py-1.5 text-sm text-success"},ln={key:0,class:"max-w-24 truncate text-xs opacity-70"},an={class:"ml-auto"},cn={key:0,class:"flex-1 overflow-y-auto"},un={key:1,class:"flex-1 overflow-y-auto"},dn={class:"flex flex-col gap-4"},pn={class:"flex w-full justify-center"},mn={class:"flex flex-col"},yn={value:"orderNatural"},fn={value:"orderLatency_asc"},xn={value:"orderLatency_desc"},vn={value:"orderName_asc"},gn={value:"orderName_desc"},hn={class:"flex w-full justify-center"},bn={class:"flex w-full justify-center"},_n={value:"cardMode"},wn={value:"listMode"},Tn={value:"auto"},kn={value:"dots"},Mn={value:"bar"},Pn={value:"off"},Sn=Q({__name:"proxies",setup(a){const{t,locale:c}=xe();bt({title:y(()=>t("proxies"))});const r=ce(),x=vt(),l=oe(),m=$e(),{isRunning:d,testMultipleGroups:h}=Ko(),k=A("proxies"),R=A(),g=A(),S=A(),I=s=>ke(s).toString(),v=s=>{const u=s.all??[];return ro(u,m.performanceData,m.excludedNodes,m.scoringWeights)},D=async()=>{const s=F.value.map(u=>u.name);await h(s)},H=s=>{const u=v(s);u&&r.selectProxyInGroup(s,u)},F=y(()=>r.proxies.filter(s=>!s.hidden)),J=y(()=>[{type:"proxies",name:t("proxies"),count:F.value.length},{type:"proxyProviders",name:t("proxyProviders"),count:r.proxyProviders.length}]);function q(s){const u=De({proxyNames:s.all??[],orderingType:l.proxiesOrderingType,testUrl:s.testUrl||null,getLatencyByName:r.getLatencyByName,latencyQualityMap:l.latencyQualityMap,urlForLatencyTest:l.urlForLatencyTest});return yt({proxyNames:u,enabled:l.hideUnAvailableProxies,testUrl:s.testUrl||null,getLatencyByName:r.getLatencyByName,isProxyGroup:r.isProxyGroup,latencyQualityMap:l.latencyQualityMap,urlForLatencyTest:l.urlForLatencyTest})}function V(s){return De({proxyNames:s.proxies.map(u=>u.name),orderingType:l.proxiesOrderingType,testUrl:s.testUrl,getLatencyByName:r.getLatencyByName,latencyQualityMap:l.latencyQualityMap,urlForLatencyTest:l.urlForLatencyTest})}_t(()=>{r.fetchProxies()});const L=Q({props:{proxyGroup:{type:Object,required:!0},sortedProxyNames:{type:Array,required:!0}},setup(s){const u=y(()=>v(s.proxyGroup)),N=y(()=>u.value!==null&&u.value!==s.proxyGroup.now);return()=>b("div",{class:"flex flex-col gap-3 flex-1 min-w-0"},[b("div",{class:"flex items-center justify-between gap-2 w-full flex-nowrap"},[b("div",{class:"flex flex-wrap items-center gap-2 flex-1 min-w-0"},[s.proxyGroup.icon&&(s.proxyGroup.icon.startsWith("data:image/svg+xml")?b("div",{style:{height:`${l.iconHeight}px`,width:`${l.iconHeight}px`,color:"var(--color-primary)",backgroundColor:"currentColor",marginRight:`${l.iconMarginRight}px`,maskImage:`url('${ft(s.proxyGroup.icon)}')`,maskSize:"100% 100%"}}):b("img",{src:s.proxyGroup.icon,style:{height:`${l.iconHeight}px`,marginRight:`${l.iconMarginRight}px`}})),b("span",{class:"text-lg font-semibold tracking-tight line-clamp-1 break-all text-base-content"},s.proxyGroup.name),b("div",{class:"badge badge-sm text-[0.7rem] font-semibold px-2 py-1 rounded-md bg-primary/12 text-primary border border-primary/20"},s.proxyGroup.all?.length)]),b("div",{class:"flex items-center gap-1.5 shrink-0"},[N.value&&b(le,{class:"flex items-center justify-center w-9 h-9 rounded-lg bg-warning/10 border border-warning/20 text-warning transition-all duration-200 hover:bg-warning/20 hover:border-warning/40 hover:-translate-y-px hover:shadow-lg hover:shadow-warning/15 active:translate-y-0",title:t("recommendation.switchToRecommended","Switch to Recommended: ")+u.value,onClick:Y=>{Y.stopPropagation(),H(s.proxyGroup)}},{default:()=>b(Ct,{size:18})}),b(le,{class:"flex items-center justify-center w-9 h-9 rounded-lg bg-base-content/6 border border-base-content/8 text-base-content/60 transition-all duration-200 hover:bg-primary/15 hover:border-primary/30 hover:text-primary hover:-translate-y-px hover:shadow-lg hover:shadow-primary/15 active:translate-y-0 disabled:bg-success/15 disabled:border-success/30 disabled:cursor-not-allowed disabled:opacity-100",disabled:r.proxyGroupLatencyTestingMap[s.proxyGroup.name],onClick:Y=>{Y.stopPropagation(),r.proxyGroupLatencyTest(s.proxyGroup.name)}},{default:()=>b(we,{size:18,class:{"animate-pulse text-success":r.proxyGroupLatencyTestingMap[s.proxyGroup.name]}})})])]),b("div",{class:"flex flex-col gap-2.5 pt-1"},[b("div",{class:"badge badge-primary badge-sm inline-flex items-center gap-1"},[b("span",{class:"font-bold"},Pe(s.proxyGroup.type,t)),s.proxyGroup.now?.length>0&&[b(Mt,{size:18}),b("span",{class:"whitespace-nowrap"},s.proxyGroup.now)]]),b("div",{class:"badge badge-secondary badge-sm"},`${I(x.speedGroupByName[s.proxyGroup.name]||0)}/s`)]),!r.collapsedMap[s.proxyGroup.name]&&b(Be,{proxyNameList:s.sortedProxyNames,now:s.proxyGroup.now,testUrl:s.proxyGroup.testUrl||null,onSelect:Y=>r.selectProxyInGroup(s.proxyGroup,Y)})])}}),j=Q({props:{proxyGroup:{type:Object,required:!0},sortedProxyNames:{type:Array,required:!0}},setup(s){const u=y(()=>v(s.proxyGroup));return()=>s.sortedProxyNames.map(N=>l.proxiesDisplayMode==="listMode"?b(Ge,{key:N,proxyName:N,testUrl:s.proxyGroup.testUrl||null,timeout:s.proxyGroup.timeout??null,isSelected:s.proxyGroup.now===N,onClick:()=>r.selectProxyInGroup(s.proxyGroup,N)}):b(He,{key:N,proxyName:N,testUrl:s.proxyGroup.testUrl||null,timeout:s.proxyGroup.timeout??null,isSelected:s.proxyGroup.now===N,isRecommended:u.value===N,groupName:s.proxyGroup.name,onClick:()=>r.selectProxyInGroup(s.proxyGroup,N)}))}}),W=Q({props:{provider:{type:Object,required:!0},sortedProxyNames:{type:Array,required:!0}},setup(s){return()=>b("div",{class:"flex flex-col gap-3 flex-1 min-w-0"},[b("div",{class:"flex items-center justify-between gap-2 w-full flex-nowrap"},[b("div",{class:"flex flex-wrap items-center gap-2 flex-1 min-w-0"},[b("span",{class:"text-lg font-semibold tracking-tight line-clamp-1 break-all text-base-content"},s.provider.name),b("div",{class:"badge badge-sm text-[0.7rem] font-semibold px-2 py-1 rounded-md bg-primary/12 text-primary border border-primary/20"},s.provider.proxies.length),b("div",{class:"badge badge-sm text-[0.7rem] font-semibold px-2 py-1 rounded-md bg-primary/12 text-primary border border-primary/20"},s.provider.vehicleType)]),b("div",{class:"flex items-center gap-1.5 shrink-0"},[b(le,{class:"flex items-center justify-center w-9 h-9 rounded-lg bg-base-content/6 border border-base-content/8 text-base-content/60 transition-all duration-200 hover:bg-primary/15 hover:border-primary/30 hover:text-primary hover:-translate-y-px hover:shadow-lg hover:shadow-primary/15 active:translate-y-0 disabled:bg-success/15 disabled:border-success/30 disabled:cursor-not-allowed disabled:opacity-100",disabled:r.updatingMap[s.provider.name],onClick:u=>{u.stopPropagation(),r.updateProviderByProviderName(s.provider.name)}},{default:()=>b(je,{size:18,class:{"animate-spin text-success":r.updatingMap[s.provider.name]}})}),b(le,{class:"flex items-center justify-center w-9 h-9 rounded-lg bg-base-content/6 border border-base-content/8 text-base-content/60 transition-all duration-200 hover:bg-primary/15 hover:border-primary/30 hover:text-primary hover:-translate-y-px hover:shadow-lg hover:shadow-primary/15 active:translate-y-0 disabled:bg-success/15 disabled:border-success/30 disabled:cursor-not-allowed disabled:opacity-100",disabled:r.proxyProviderLatencyTestingMap[s.provider.name],onClick:u=>{u.stopPropagation(),r.proxyProviderLatencyTest(s.provider.name)}},{default:()=>b(we,{size:18,class:{"animate-pulse text-success":r.proxyProviderLatencyTestingMap[s.provider.name]}})})])]),b(zo,{subscriptionInfo:s.provider.subscriptionInfo}),b("div",{class:"flex flex-col gap-2.5 pt-1"},[b("div",{class:"inline-flex items-center gap-1.5 text-xs font-medium text-base-content/45 px-2.5 py-1 bg-base-content/5 rounded-full w-fit"},`${t("updated")} ${xt(s.provider.updatedAt,c.value)}`),!r.collapsedMap[s.provider.name]&&b(Be,{proxyNameList:s.sortedProxyNames,testUrl:s.provider.testUrl})])])}}),ne=Q({props:{provider:{type:Object,required:!0},sortedProxyNames:{type:Array,required:!0}},setup(s){return()=>s.sortedProxyNames.map(u=>l.proxiesDisplayMode==="listMode"?b(Ge,{key:u,proxyName:u,testUrl:s.provider.testUrl,timeout:s.provider.timeout??null,providerName:s.provider.name}):b(He,{key:u,proxyName:u,testUrl:s.provider.testUrl,timeout:s.provider.timeout??null,providerName:s.provider.name}))}});return(s,u)=>{const N=Fo,Y=Xo,G=Tt,se=kt;return i(),f("div",Zo,[o("div",Jo,[o("div",en,[(i(!0),f(O,null,Z(e(J),n=>(i(),f("button",{key:n.type,class:U(["flex items-center gap-2 rounded-lg px-3 py-1.5 text-sm text-base-content/70 transition-all duration-200 hover:bg-base-content/5",{"bg-primary text-primary-content shadow-md shadow-primary/30 hover:bg-primary":e(k)===n.type}]),onClick:M=>k.value=n.type},[o("span",on,p(n.name),1),o("span",{class:U(["rounded-md bg-base-content/10 px-1.5 py-0.5 text-xs font-semibold",{"bg-primary-content/20":e(k)===n.type}])},p(n.count),3)],10,tn))),128))]),o("div",nn,[e(k)==="proxies"?(i(),z(le,{key:0,class:"flex h-9 items-center gap-1.5 rounded-[0.625rem] border border-base-content/10 bg-base-200/80 px-3 transition-all duration-200 hover:border-primary/30 hover:bg-primary/15 hover:text-primary",disabled:e(d),title:e(t)("recommendation.testAllGroups","Test All Groups"),onClick:D},{default:w(()=>[_(e(we),{size:18,class:U({"animate-pulse text-success":e(d)})},null,8,["class"]),o("span",sn,p(e(t)("recommendation.testAll","Test All")),1)]),_:1},8,["disabled","title"])):$("",!0),e(d)?(i(),f("div",rn,[u[13]||(u[13]=o("span",{class:"loading loading-xs loading-spinner"},null,-1)),o("span",null,p(e(m).batchTestProgress.completed)+"/"+p(e(m).batchTestProgress.total),1),e(m).batchTestProgress.current?(i(),f("span",ln,p(e(m).batchTestProgress.current),1)):$("",!0)])):$("",!0),e(k)==="proxyProviders"?(i(),z(le,{key:2,class:"flex h-9 w-9 items-center justify-center rounded-[0.625rem] border border-base-content/10 bg-base-200/80 transition-all duration-200 hover:border-primary/30 hover:bg-primary/15 hover:text-primary",disabled:e(r).isAllProviderUpdating,onClick:e(r).updateAllProvider},{default:w(()=>[_(e(je),{size:18,class:U({"animate-spin text-success":e(r).isAllProviderUpdating})},null,8,["class"])]),_:1},8,["disabled","onClick"])):$("",!0)]),o("div",an,[_(le,{class:"flex h-9 w-9 items-center justify-center rounded-[0.625rem] border border-base-content/10 bg-primary/10 text-primary transition-all duration-200 hover:border-primary/30 hover:bg-primary/15",onClick:u[0]||(u[0]=n=>e(R)?.open())},{default:w(()=>[_(e(St),{size:18})]),_:1})])]),e(k)==="proxies"?(i(),f("div",cn,[_(Y,{ref_key:"proxyGroupsWrapper",ref:g},Ee({_:2},[e(g)?.isTwoColumns?{name:"even",fn:w(()=>[(i(!0),f(O,null,Z(e(F).filter((n,M)=>M%2===0),(n,M)=>(i(),z(N,{key:n.name,class:"animate-fade-slide-in",style:B({animationDelay:`${M*50}ms`}),"is-open":e(r).collapsedMap[n.name]||!1,onCollapse:C=>e(r).collapsedMap[n.name]=C},{title:w(()=>[_(e(L),{"proxy-group":n,"sorted-proxy-names":q(n)},null,8,["proxy-group","sorted-proxy-names"])]),default:w(()=>[_(e(j),{"proxy-group":n,"sorted-proxy-names":q(n)},null,8,["proxy-group","sorted-proxy-names"])]),_:2},1032,["style","is-open","onCollapse"]))),128))]),key:"0"}:void 0,e(g)?.isTwoColumns?{name:"odd",fn:w(()=>[(i(!0),f(O,null,Z(e(F).filter((n,M)=>M%2===1),(n,M)=>(i(),z(N,{key:n.name,class:"animate-fade-slide-in",style:B({animationDelay:`${M*50+25}ms`}),"is-open":e(r).collapsedMap[n.name]||!1,onCollapse:C=>e(r).collapsedMap[n.name]=C},{title:w(()=>[_(e(L),{"proxy-group":n,"sorted-proxy-names":q(n)},null,8,["proxy-group","sorted-proxy-names"])]),default:w(()=>[_(e(j),{"proxy-group":n,"sorted-proxy-names":q(n)},null,8,["proxy-group","sorted-proxy-names"])]),_:2},1032,["style","is-open","onCollapse"]))),128))]),key:"1"}:void 0,e(g)?.isTwoColumns?void 0:{name:"default",fn:w(()=>[(i(!0),f(O,null,Z(e(F),(n,M)=>(i(),z(N,{key:n.name,class:"animate-fade-slide-in",style:B({animationDelay:`${M*40}ms`}),"is-open":e(r).collapsedMap[n.name]||!1,onCollapse:C=>e(r).collapsedMap[n.name]=C},{title:w(()=>[_(e(L),{"proxy-group":n,"sorted-proxy-names":q(n)},null,8,["proxy-group","sorted-proxy-names"])]),default:w(()=>[_(e(j),{"proxy-group":n,"sorted-proxy-names":q(n)},null,8,["proxy-group","sorted-proxy-names"])]),_:2},1032,["style","is-open","onCollapse"]))),128))]),key:"2"}]),1536)])):(i(),f("div",un,[_(Y,{ref_key:"providersWrapper",ref:S},Ee({_:2},[e(S)?.isTwoColumns?{name:"even",fn:w(()=>[(i(!0),f(O,null,Z(e(r).proxyProviders.filter((n,M)=>M%2===0),(n,M)=>(i(),z(N,{key:n.name,class:"animate-fade-slide-in",style:B({animationDelay:`${M*50}ms`}),"is-open":e(r).collapsedMap[n.name]||!1,onCollapse:C=>e(r).collapsedMap[n.name]=C},{title:w(()=>[_(e(W),{provider:n,"sorted-proxy-names":V(n)},null,8,["provider","sorted-proxy-names"])]),default:w(()=>[_(e(ne),{provider:n,"sorted-proxy-names":V(n)},null,8,["provider","sorted-proxy-names"])]),_:2},1032,["style","is-open","onCollapse"]))),128))]),key:"0"}:void 0,e(S)?.isTwoColumns?{name:"odd",fn:w(()=>[(i(!0),f(O,null,Z(e(r).proxyProviders.filter((n,M)=>M%2===1),(n,M)=>(i(),z(N,{key:n.name,class:"animate-fade-slide-in",style:B({animationDelay:`${M*50+25}ms`}),"is-open":e(r).collapsedMap[n.name]||!1,onCollapse:C=>e(r).collapsedMap[n.name]=C},{title:w(()=>[_(e(W),{provider:n,"sorted-proxy-names":V(n)},null,8,["provider","sorted-proxy-names"])]),default:w(()=>[_(e(ne),{provider:n,"sorted-proxy-names":V(n)},null,8,["provider","sorted-proxy-names"])]),_:2},1032,["style","is-open","onCollapse"]))),128))]),key:"1"}:void 0,e(S)?.isTwoColumns?void 0:{name:"default",fn:w(()=>[(i(!0),f(O,null,Z(e(r).proxyProviders,(n,M)=>(i(),z(N,{key:n.name,class:"animate-fade-slide-in",style:B({animationDelay:`${M*40}ms`}),"is-open":e(r).collapsedMap[n.name]||!1,onCollapse:C=>e(r).collapsedMap[n.name]=C},{title:w(()=>[_(e(W),{provider:n,"sorted-proxy-names":V(n)},null,8,["provider","sorted-proxy-names"])]),default:w(()=>[_(e(ne),{provider:n,"sorted-proxy-names":V(n)},null,8,["provider","sorted-proxy-names"])]),_:2},1032,["style","is-open","onCollapse"]))),128))]),key:"2"}]),1536)])),_(se,{ref_key:"settingsModal",ref:R,title:e(t)("proxiesSettings")},{icon:w(()=>[_(e(Pt),{size:24})]),default:w(()=>[o("div",dn,[o("div",null,[_(G,{"with-divider":""},{default:w(()=>[K(p(e(t)("autoCloseConns")),1)]),_:1}),o("div",pn,[ee(o("input",{"onUpdate:modelValue":u[1]||(u[1]=n=>e(l).autoCloseConns=n),class:"toggle toggle-primary",type:"checkbox"},null,512),[[be,e(l).autoCloseConns]])])]),o("div",mn,[_(G,{"with-divider":""},{default:w(()=>[K(p(e(t)("urlForLatencyTest")),1)]),_:1}),ee(o("input",{"onUpdate:modelValue":u[2]||(u[2]=n=>e(l).urlForLatencyTest=n),class:"input-bordered input w-full",type:"text"},null,512),[[de,e(l).urlForLatencyTest]])]),o("div",null,[_(G,{"with-divider":""},{default:w(()=>[K(p(e(t)("latencyTestTimeoutDuration"))+" ("+p(e(t)("ms"))+") ",1)]),_:1}),ee(o("input",{"onUpdate:modelValue":u[3]||(u[3]=n=>e(l).latencyTestTimeoutDuration=n),class:"input-bordered input w-full",type:"number"},null,512),[[de,e(l).latencyTestTimeoutDuration,void 0,{number:!0}]])]),o("div",null,[_(G,{"with-divider":""},{default:w(()=>[K(p(e(t)("proxiesSorting")),1)]),_:1}),ee(o("select",{"onUpdate:modelValue":u[4]||(u[4]=n=>e(l).proxiesOrderingType=n),class:"select-bordered select w-full"},[o("option",yn,p(e(t)("orderNatural")),1),o("option",fn,p(e(t)("orderLatency_asc")),1),o("option",xn,p(e(t)("orderLatency_desc")),1),o("option",vn,p(e(t)("orderName_asc")),1),o("option",gn,p(e(t)("orderName_desc")),1)],512),[[_e,e(l).proxiesOrderingType]])]),o("div",null,[_(G,{"with-divider":""},{default:w(()=>[K(p(e(t)("hideUnavailableProxies")),1)]),_:1}),o("div",hn,[ee(o("input",{"onUpdate:modelValue":u[5]||(u[5]=n=>e(l).hideUnAvailableProxies=n),class:"toggle toggle-primary",type:"checkbox"},null,512),[[be,e(l).hideUnAvailableProxies]])])]),o("div",null,[_(G,{"with-divider":""},{default:w(()=>[K(p(e(t)("renderInTwoColumns")),1)]),_:1}),o("div",bn,[ee(o("input",{"onUpdate:modelValue":u[6]||(u[6]=n=>e(l).renderProxiesInTwoColumns=n),class:"toggle toggle-primary",type:"checkbox"},null,512),[[be,e(l).renderProxiesInTwoColumns]])])]),o("div",null,[_(G,{"with-divider":""},{default:w(()=>[K(p(e(t)("proxiesDisplayMode")),1)]),_:1}),ee(o("select",{"onUpdate:modelValue":u[7]||(u[7]=n=>e(l).proxiesDisplayMode=n),class:"select-bordered select w-full"},[o("option",_n,p(e(t)("cardMode")),1),o("option",wn,p(e(t)("listMode")),1)],512),[[_e,e(l).proxiesDisplayMode]])]),o("div",null,[_(G,{"with-divider":""},{default:w(()=>[K(p(e(t)("proxiesPreviewType")),1)]),_:1}),ee(o("select",{"onUpdate:modelValue":u[8]||(u[8]=n=>e(l).proxiesPreviewType=n),class:"select-bordered select w-full"},[o("option",Tn,p(e(t)("auto")),1),o("option",kn,p(e(t)("dots")),1),o("option",Mn,p(e(t)("bar")),1),o("option",Pn,p(e(t)("off")),1)],512),[[_e,e(l).proxiesPreviewType]]),e(l).proxiesPreviewType===("PROXIES_PREVIEW_TYPE"in s?s.PROXIES_PREVIEW_TYPE:e(ie)).Auto?(i(),f(O,{key:0},[_(G,{"with-divider":""},{default:w(()=>[K(p(e(t)("proxiesPreviewAutoThreshold")),1)]),_:1}),ee(o("input",{"onUpdate:modelValue":u[9]||(u[9]=n=>e(l).proxiesPreviewAutoThreshold=n),class:"input-bordered input w-full",type:"number",min:"1"},null,512),[[de,e(l).proxiesPreviewAutoThreshold,void 0,{number:!0}]])],64)):$("",!0)]),o("div",null,[_(G,{"with-divider":""},{default:w(()=>[K(p(e(t)("iconHeight")),1)]),_:1}),ee(o("input",{"onUpdate:modelValue":u[10]||(u[10]=n=>e(l).iconHeight=n),class:"input-bordered input w-full",type:"number"},null,512),[[de,e(l).iconHeight,void 0,{number:!0}]]),_(G,{"with-divider":""},{default:w(()=>[K(p(e(t)("iconMarginRight")),1)]),_:1}),ee(o("input",{"onUpdate:modelValue":u[11]||(u[11]=n=>e(l).iconMarginRight=n),class:"input-bordered input w-full",type:"number"},null,512),[[de,e(l).iconMarginRight,void 0,{number:!0}]])]),o("div",null,[o("button",{class:"btn w-full btn-error",onClick:u[12]||(u[12]=n=>e(l).resetProxiesSettings())},p(e(t)("resetSettings")),1)])])]),_:1},8,["title"])])}}}),qn=Ye(Sn,[["__scopeId","data-v-ffb66ebb"]]);export{qn as default};
