import{L as _}from"./vIF72wqi.js";import{y as G,A as Rr,L as ir}from"./CRZAT9oH.js";function Sr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}class ot extends Error{response;request;options;constructor(e,r,s){const o=e.status||e.status===0?e.status:"",u=e.statusText??"",i=`${o} ${u}`.trim(),l=i?`status code ${i}`:"an unknown error";super(`Request failed with ${l}: ${r.method} ${r.url}`),this.name="HTTPError",this.response=e,this.request=r,this.options=s}}class cr extends Error{name="NonError";value;constructor(e){let r="Non-error value was thrown";try{typeof e=="string"?r=e:e&&typeof e=="object"&&"message"in e&&typeof e.message=="string"&&(r=e.message)}catch{}super(r),this.value=e}}class he extends Error{name="ForceRetryError";customDelay;code;customRequest;constructor(e){const r=e?.cause?e.cause instanceof Error?e.cause:new cr(e.cause):void 0;super(e?.code?`Forced retry: ${e.code}`:"Forced retry",r?{cause:r}:void 0),this.customDelay=e?.delay,this.code=e?.code,this.customRequest=e?.request}}const dt=(()=>{let t=!1,e=!1;const r=typeof globalThis.ReadableStream=="function",s=typeof globalThis.Request=="function";if(r&&s)try{e=new globalThis.Request("https://empty.invalid",{body:new globalThis.ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type")}catch(o){if(o instanceof Error&&o.message==="unsupported BodyInit type")return!1;throw o}return t&&!e})(),wr=typeof globalThis.AbortController=="function",ur=typeof globalThis.AbortSignal=="function"&&typeof globalThis.AbortSignal.any=="function",Pr=typeof globalThis.ReadableStream=="function",Ar=typeof globalThis.FormData=="function",lr=["get","post","put","patch","head","delete"],xr={json:"application/json",text:"text/*",formData:"multipart/form-data",arrayBuffer:"*/*",blob:"*/*",bytes:"*/*"},pe=2147483647,vr=new TextEncoder().encode("------WebKitFormBoundaryaxpyiPgbbPti10Rw").length,fr=Symbol("stop");class hr{options;constructor(e){this.options=e}}const Tr=t=>new hr(t),Or={json:!0,parseJson:!0,stringifyJson:!0,searchParams:!0,prefixUrl:!0,retry:!0,timeout:!0,hooks:!0,throwHttpErrors:!0,onDownloadProgress:!0,onUploadProgress:!0,fetch:!0,context:!0},Nr={next:!0},$r={method:!0,headers:!0,body:!0,mode:!0,credentials:!0,cache:!0,redirect:!0,referrer:!0,referrerPolicy:!0,integrity:!0,keepalive:!0,signal:!0,window:!0,duplex:!0},br=t=>{if(!t)return 0;if(t instanceof FormData){let e=0;for(const[r,s]of t)e+=vr,e+=new TextEncoder().encode(`Content-Disposition: form-data; name="${r}"`).length,e+=typeof s=="string"?new TextEncoder().encode(s).length:s.size;return e}if(t instanceof Blob)return t.size;if(t instanceof ArrayBuffer)return t.byteLength;if(typeof t=="string")return new TextEncoder().encode(t).length;if(t instanceof URLSearchParams)return new TextEncoder().encode(t.toString()).length;if("byteLength"in t)return t.byteLength;if(typeof t=="object"&&t!==null)try{const e=JSON.stringify(t);return new TextEncoder().encode(e).length}catch{return 0}return 0},pr=(t,e,r)=>{let s,o=0;return t.pipeThrough(new TransformStream({transform(u,i){if(i.enqueue(u),s){o+=s.byteLength;let l=e===0?0:o/e;l>=1&&(l=1-Number.EPSILON),r?.({percent:l,totalBytes:Math.max(e,o),transferredBytes:o},s)}s=u},flush(){s&&(o+=s.byteLength,r?.({percent:1,totalBytes:Math.max(e,o),transferredBytes:o},s))}}))},Dr=(t,e)=>{if(!t.body)return t;if(t.status===204)return new Response(null,{status:t.status,statusText:t.statusText,headers:t.headers});const r=Math.max(0,Number(t.headers.get("content-length"))||0);return new Response(pr(t.body,r,e),{status:t.status,statusText:t.statusText,headers:t.headers})},Lr=(t,e,r)=>{if(!t.body)return t;const s=br(r??t.body);return new Request(t,{duplex:"half",body:pr(t.body,s,e)})},z=t=>t!==null&&typeof t=="object",Z=(...t)=>{for(const e of t)if((!z(e)||Array.isArray(e))&&e!==void 0)throw new TypeError("The `options` argument must be an object");return it({},...t)},dr=(t={},e={})=>{const r=new globalThis.Headers(t),s=e instanceof globalThis.Headers,o=new globalThis.Headers(e);for(const[u,i]of o.entries())s&&i==="undefined"||i===void 0?r.delete(u):r.set(u,i);return r};function ee(t,e,r){return Object.hasOwn(e,r)&&e[r]===void 0?[]:it(t[r]??[],e[r]??[])}const mr=(t={},e={})=>({beforeRequest:ee(t,e,"beforeRequest"),beforeRetry:ee(t,e,"beforeRetry"),afterResponse:ee(t,e,"afterResponse"),beforeError:ee(t,e,"beforeError")}),Cr=(t,e)=>{const r=new URLSearchParams;for(const s of[t,e])if(s!==void 0)if(s instanceof URLSearchParams)for(const[o,u]of s.entries())r.append(o,u);else if(Array.isArray(s))for(const o of s){if(!Array.isArray(o)||o.length!==2)throw new TypeError("Array search parameters must be provided in [[key, value], ...] format");r.append(String(o[0]),String(o[1]))}else if(z(s))for(const[o,u]of Object.entries(s))u!==void 0&&r.append(o,String(u));else{const o=new URLSearchParams(s);for(const[u,i]of o.entries())r.append(u,i)}return r},it=(...t)=>{let e={},r={},s={},o;const u=[];for(const i of t)if(Array.isArray(i))Array.isArray(e)||(e=[]),e=[...e,...i];else if(z(i)){for(let[l,a]of Object.entries(i)){if(l==="signal"&&a instanceof globalThis.AbortSignal){u.push(a);continue}if(l==="context"){if(a!=null&&(!z(a)||Array.isArray(a)))throw new TypeError("The `context` option must be an object");e={...e,context:a==null?{}:{...e.context,...a}};continue}if(l==="searchParams"){a==null?o=void 0:o=o===void 0?a:Cr(o,a);continue}z(a)&&l in e&&(a=it(e[l],a)),e={...e,[l]:a}}z(i.hooks)&&(s=mr(s,i.hooks),e.hooks=s),z(i.headers)&&(r=dr(r,i.headers),e.headers=r)}return o!==void 0&&(e.searchParams=o),u.length>0&&(u.length===1?e.signal=u[0]:ur?e.signal=AbortSignal.any(u):e.signal=u.at(-1)),e},Fr=t=>lr.includes(t)?t.toUpperCase():t,qr=["get","put","head","delete","options","trace"],Ur=[408,413,429,500,502,503,504],Mr=[413,429,503],mt={limit:2,methods:qr,statusCodes:Ur,afterStatusCodes:Mr,maxRetryAfter:Number.POSITIVE_INFINITY,backoffLimit:Number.POSITIVE_INFINITY,delay:t=>.3*2**(t-1)*1e3,jitter:void 0,retryOnTimeout:!1},kr=(t={})=>{if(typeof t=="number")return{...mt,limit:t};if(t.methods&&!Array.isArray(t.methods))throw new Error("retry.methods must be an array");if(t.methods&&=t.methods.map(r=>r.toLowerCase()),t.statusCodes&&!Array.isArray(t.statusCodes))throw new Error("retry.statusCodes must be an array");const e=Object.fromEntries(Object.entries(t).filter(([,r])=>r!==void 0));return{...mt,...e}};class nt extends Error{request;constructor(e){super(`Request timed out: ${e.method} ${e.url}`),this.name="TimeoutError",this.request=e}}async function jr(t,e,r,s){return new Promise((o,u)=>{const i=setTimeout(()=>{r&&r.abort(),u(new nt(t))},s.timeout);s.fetch(t,e).then(o).catch(u).then(()=>{clearTimeout(i)})})}async function Xr(t,{signal:e}){return new Promise((r,s)=>{e&&(e.throwIfAborted(),e.addEventListener("abort",o,{once:!0}));function o(){clearTimeout(u),s(e.reason)}const u=setTimeout(()=>{e?.removeEventListener("abort",o),r()},t)})}const _r=(t,e)=>{const r={};for(const s in e)Object.hasOwn(e,s)&&!(s in $r)&&!(s in Or)&&(!(s in t)||s in Nr)&&(r[s]=e[s]);return r},Gr=t=>t===void 0?!1:Array.isArray(t)?t.length>0:t instanceof URLSearchParams?t.size>0:typeof t=="object"?Object.keys(t).length>0:typeof t=="string"?t.trim().length>0:!!t;function zr(t){return t instanceof ot||t?.name===ot.name}function Hr(t){return t instanceof nt||t?.name===nt.name}class Y{static create(e,r){const s=new Y(e,r),o=async()=>{if(typeof s.#e.timeout=="number"&&s.#e.timeout>pe)throw new RangeError(`The \`timeout\` option cannot be greater than ${pe}`);await Promise.resolve();let i=await s.#E();for(const l of s.#e.hooks.afterResponse){const a=s.#h(i.clone());let c;try{c=await l(s.request,s.#c(),a,{retryCount:s.#r})}catch(f){throw s.#n(a),s.#n(i),f}if(c instanceof hr)throw s.#n(a),s.#n(i),new he(c.options);const n=c instanceof globalThis.Response?c:i;a!==n&&s.#n(a),i!==n&&s.#n(i),i=n}if(s.#h(i),!i.ok&&(typeof s.#e.throwHttpErrors=="function"?s.#e.throwHttpErrors(i.status):s.#e.throwHttpErrors)){let l=new ot(i,s.request,s.#c());for(const a of s.#e.hooks.beforeError)l=await a(l,{retryCount:s.#r});throw l}if(s.#e.onDownloadProgress){if(typeof s.#e.onDownloadProgress!="function")throw new TypeError("The `onDownloadProgress` option must be a function");if(!Pr)throw new Error("Streams are not supported in your environment. `ReadableStream` is missing.");const l=i.clone();return s.#n(i),Dr(l,s.#e.onDownloadProgress)}return i},u=s.#p(o).finally(()=>{const i=s.#a;s.#l(i?.body??void 0),s.#l(s.request.body??void 0)});for(const[i,l]of Object.entries(xr))i==="bytes"&&typeof globalThis.Response?.prototype?.bytes!="function"||(u[i]=async()=>{s.request.headers.set("accept",s.request.headers.get("accept")||l);const a=await u;if(i==="json"){if(a.status===204)return"";const c=await a.text();return c===""?"":r.parseJson?r.parseJson(c):JSON.parse(c)}return a[i]()});return u}static#m(e){return e&&typeof e=="object"&&!Array.isArray(e)&&!(e instanceof URLSearchParams)?Object.fromEntries(Object.entries(e).filter(([,r])=>r!==void 0)):e}request;#s;#r=0;#t;#e;#a;#o;#i;constructor(e,r={}){if(this.#t=e,this.#e={...r,headers:dr(this.#t.headers,r.headers),hooks:mr({beforeRequest:[],beforeRetry:[],beforeError:[],afterResponse:[]},r.hooks),method:Fr(r.method??this.#t.method??"GET"),prefixUrl:String(r.prefixUrl||""),retry:kr(r.retry),throwHttpErrors:r.throwHttpErrors??!0,timeout:r.timeout??1e4,fetch:r.fetch??globalThis.fetch.bind(globalThis),context:r.context??{}},typeof this.#t!="string"&&!(this.#t instanceof URL||this.#t instanceof globalThis.Request))throw new TypeError("`input` must be a string, URL, or Request");if(this.#e.prefixUrl&&typeof this.#t=="string"){if(this.#t.startsWith("/"))throw new Error("`input` must not begin with a slash when using `prefixUrl`");this.#e.prefixUrl.endsWith("/")||(this.#e.prefixUrl+="/"),this.#t=this.#e.prefixUrl+this.#t}wr&&ur&&(this.#o=this.#e.signal??this.#t.signal,this.#s=new globalThis.AbortController,this.#e.signal=this.#o?AbortSignal.any([this.#o,this.#s.signal]):this.#s.signal),dt&&(this.#e.duplex="half"),this.#e.json!==void 0&&(this.#e.body=this.#e.stringifyJson?.(this.#e.json)??JSON.stringify(this.#e.json),this.#e.headers.set("content-type",this.#e.headers.get("content-type")??"application/json"));const s=r.headers&&new globalThis.Headers(r.headers).has("content-type");if(this.#t instanceof globalThis.Request&&(Ar&&this.#e.body instanceof globalThis.FormData||this.#e.body instanceof URLSearchParams)&&!s&&this.#e.headers.delete("content-type"),this.request=new globalThis.Request(this.#t,this.#e),Gr(this.#e.searchParams)){const u="?"+(typeof this.#e.searchParams=="string"?this.#e.searchParams.replace(/^\?/,""):new URLSearchParams(Y.#m(this.#e.searchParams)).toString()),i=this.request.url.replace(/(?:\?.*?)?(?=#|$)/,u);this.request=new globalThis.Request(i,this.#e)}if(this.#e.onUploadProgress){if(typeof this.#e.onUploadProgress!="function")throw new TypeError("The `onUploadProgress` option must be a function");if(!dt)throw new Error("Request streams are not supported in your environment. The `duplex` option for `Request` is not available.");this.request=this.#d(this.request,this.#e.body??void 0)}}#u(){const e=this.#e.retry.delay(this.#r);let r=e;this.#e.retry.jitter===!0?r=Math.random()*e:typeof this.#e.retry.jitter=="function"&&(r=this.#e.retry.jitter(e),(!Number.isFinite(r)||r<0)&&(r=e));const s=this.#e.retry.backoffLimit??Number.POSITIVE_INFINITY;return Math.min(s,r)}async#y(e){if(this.#r++,this.#r>this.#e.retry.limit)throw e;const r=e instanceof Error?e:new cr(e);if(r instanceof he)return r.customDelay??this.#u();if(!this.#e.retry.methods.includes(this.request.method.toLowerCase()))throw e;if(this.#e.retry.shouldRetry!==void 0){const s=await this.#e.retry.shouldRetry({error:r,retryCount:this.#r});if(s===!1)throw e;if(s===!0)return this.#u()}if(Hr(e)&&!this.#e.retry.retryOnTimeout)throw e;if(zr(e)){if(!this.#e.retry.statusCodes.includes(e.response.status))throw e;const s=e.response.headers.get("Retry-After")??e.response.headers.get("RateLimit-Reset")??e.response.headers.get("X-RateLimit-Retry-After")??e.response.headers.get("X-RateLimit-Reset")??e.response.headers.get("X-Rate-Limit-Reset");if(s&&this.#e.retry.afterStatusCodes.includes(e.response.status)){let o=Number(s)*1e3;Number.isNaN(o)?o=Date.parse(s)-Date.now():o>=Date.parse("2024-01-01")&&(o-=Date.now());const u=this.#e.retry.maxRetryAfter??o;return o<u?o:u}if(e.response.status===413)throw e}return this.#u()}#h(e){return this.#e.parseJson&&(e.json=async()=>this.#e.parseJson(await e.text())),e}#l(e){e&&e.cancel().catch(()=>{})}#n(e){this.#l(e.body??void 0)}async#p(e){try{return await e()}catch(r){const s=Math.min(await this.#y(r),pe);if(this.#r<1)throw r;if(await Xr(s,this.#o?{signal:this.#o}:{}),r instanceof he&&r.customRequest){const o=this.#e.signal?new globalThis.Request(r.customRequest,{signal:this.#e.signal}):new globalThis.Request(r.customRequest);this.#f(o)}for(const o of this.#e.hooks.beforeRetry){const u=await o({request:this.request,options:this.#c(),error:r,retryCount:this.#r});if(u instanceof globalThis.Request){this.#f(u);break}if(u instanceof globalThis.Response)return u;if(u===fr)return}return this.#p(e)}}async#E(){this.#s?.signal.aborted&&(this.#s=new globalThis.AbortController,this.#e.signal=this.#o?AbortSignal.any([this.#o,this.#s.signal]):this.#s.signal,this.request=new globalThis.Request(this.request,{signal:this.#e.signal}));for(const r of this.#e.hooks.beforeRequest){const s=await r(this.request,this.#c(),{retryCount:this.#r});if(s instanceof Response)return s;if(s instanceof globalThis.Request){this.#f(s);break}}const e=_r(this.request,this.#e);return this.#a=this.request,this.request=this.#a.clone(),this.#e.timeout===!1?this.#e.fetch(this.#a,e):jr(this.#a,e,this.#s,this.#e)}#c(){if(!this.#i){const{hooks:e,...r}=this.#e;this.#i=Object.freeze(r)}return this.#i}#f(e){this.#i=void 0,this.request=this.#d(e)}#d(e,r){return!this.#e.onUploadProgress||!e.body?e:Lr(e,this.#e.onUploadProgress,r??this.#e.body??void 0)}}const at=t=>{const e=(r,s)=>Y.create(r,Z(t,s));for(const r of lr)e[r]=(s,o)=>Y.create(s,Z(t,o,{method:r}));return e.create=r=>at(Z(r)),e.extend=r=>(typeof r=="function"&&(r=r(t??{})),at(Z(t,r))),e.stop=fr,e.retry=Tr,e},K=at();var te={exports:{}},de,yt;function re(){if(yt)return de;yt=1;const t="2.0.0",e=256,r=Number.MAX_SAFE_INTEGER||9007199254740991,s=16,o=e-6;return de={MAX_LENGTH:e,MAX_SAFE_COMPONENT_LENGTH:s,MAX_SAFE_BUILD_LENGTH:o,MAX_SAFE_INTEGER:r,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:t,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},de}var me,Et;function se(){if(Et)return me;Et=1;var t={};return me=typeof process=="object"&&t&&t.NODE_DEBUG&&/\bsemver\b/i.test(t.NODE_DEBUG)?(...r)=>console.error("SEMVER",...r):()=>{},me}var gt;function Q(){return gt||(gt=1,(function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:s,MAX_LENGTH:o}=re(),u=se();e=t.exports={};const i=e.re=[],l=e.safeRe=[],a=e.src=[],c=e.safeSrc=[],n=e.t={};let f=0;const h="[a-zA-Z0-9-]",y=[["\\s",1],["\\d",o],[h,s]],x=I=>{for(const[v,b]of y)I=I.split(`${v}*`).join(`${v}{0,${b}}`).split(`${v}+`).join(`${v}{1,${b}}`);return I},d=(I,v,b)=>{const T=x(v),F=f++;u(I,F,v),n[I]=F,a[F]=v,c[F]=T,i[F]=new RegExp(v,b?"g":void 0),l[F]=new RegExp(T,b?"g":void 0)};d("NUMERICIDENTIFIER","0|[1-9]\\d*"),d("NUMERICIDENTIFIERLOOSE","\\d+"),d("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${h}*`),d("MAINVERSION",`(${a[n.NUMERICIDENTIFIER]})\\.(${a[n.NUMERICIDENTIFIER]})\\.(${a[n.NUMERICIDENTIFIER]})`),d("MAINVERSIONLOOSE",`(${a[n.NUMERICIDENTIFIERLOOSE]})\\.(${a[n.NUMERICIDENTIFIERLOOSE]})\\.(${a[n.NUMERICIDENTIFIERLOOSE]})`),d("PRERELEASEIDENTIFIER",`(?:${a[n.NONNUMERICIDENTIFIER]}|${a[n.NUMERICIDENTIFIER]})`),d("PRERELEASEIDENTIFIERLOOSE",`(?:${a[n.NONNUMERICIDENTIFIER]}|${a[n.NUMERICIDENTIFIERLOOSE]})`),d("PRERELEASE",`(?:-(${a[n.PRERELEASEIDENTIFIER]}(?:\\.${a[n.PRERELEASEIDENTIFIER]})*))`),d("PRERELEASELOOSE",`(?:-?(${a[n.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${a[n.PRERELEASEIDENTIFIERLOOSE]})*))`),d("BUILDIDENTIFIER",`${h}+`),d("BUILD",`(?:\\+(${a[n.BUILDIDENTIFIER]}(?:\\.${a[n.BUILDIDENTIFIER]})*))`),d("FULLPLAIN",`v?${a[n.MAINVERSION]}${a[n.PRERELEASE]}?${a[n.BUILD]}?`),d("FULL",`^${a[n.FULLPLAIN]}$`),d("LOOSEPLAIN",`[v=\\s]*${a[n.MAINVERSIONLOOSE]}${a[n.PRERELEASELOOSE]}?${a[n.BUILD]}?`),d("LOOSE",`^${a[n.LOOSEPLAIN]}$`),d("GTLT","((?:<|>)?=?)"),d("XRANGEIDENTIFIERLOOSE",`${a[n.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),d("XRANGEIDENTIFIER",`${a[n.NUMERICIDENTIFIER]}|x|X|\\*`),d("XRANGEPLAIN",`[v=\\s]*(${a[n.XRANGEIDENTIFIER]})(?:\\.(${a[n.XRANGEIDENTIFIER]})(?:\\.(${a[n.XRANGEIDENTIFIER]})(?:${a[n.PRERELEASE]})?${a[n.BUILD]}?)?)?`),d("XRANGEPLAINLOOSE",`[v=\\s]*(${a[n.XRANGEIDENTIFIERLOOSE]})(?:\\.(${a[n.XRANGEIDENTIFIERLOOSE]})(?:\\.(${a[n.XRANGEIDENTIFIERLOOSE]})(?:${a[n.PRERELEASELOOSE]})?${a[n.BUILD]}?)?)?`),d("XRANGE",`^${a[n.GTLT]}\\s*${a[n.XRANGEPLAIN]}$`),d("XRANGELOOSE",`^${a[n.GTLT]}\\s*${a[n.XRANGEPLAINLOOSE]}$`),d("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),d("COERCE",`${a[n.COERCEPLAIN]}(?:$|[^\\d])`),d("COERCEFULL",a[n.COERCEPLAIN]+`(?:${a[n.PRERELEASE]})?(?:${a[n.BUILD]})?(?:$|[^\\d])`),d("COERCERTL",a[n.COERCE],!0),d("COERCERTLFULL",a[n.COERCEFULL],!0),d("LONETILDE","(?:~>?)"),d("TILDETRIM",`(\\s*)${a[n.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",d("TILDE",`^${a[n.LONETILDE]}${a[n.XRANGEPLAIN]}$`),d("TILDELOOSE",`^${a[n.LONETILDE]}${a[n.XRANGEPLAINLOOSE]}$`),d("LONECARET","(?:\\^)"),d("CARETTRIM",`(\\s*)${a[n.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",d("CARET",`^${a[n.LONECARET]}${a[n.XRANGEPLAIN]}$`),d("CARETLOOSE",`^${a[n.LONECARET]}${a[n.XRANGEPLAINLOOSE]}$`),d("COMPARATORLOOSE",`^${a[n.GTLT]}\\s*(${a[n.LOOSEPLAIN]})$|^$`),d("COMPARATOR",`^${a[n.GTLT]}\\s*(${a[n.FULLPLAIN]})$|^$`),d("COMPARATORTRIM",`(\\s*)${a[n.GTLT]}\\s*(${a[n.LOOSEPLAIN]}|${a[n.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",d("HYPHENRANGE",`^\\s*(${a[n.XRANGEPLAIN]})\\s+-\\s+(${a[n.XRANGEPLAIN]})\\s*$`),d("HYPHENRANGELOOSE",`^\\s*(${a[n.XRANGEPLAINLOOSE]})\\s+-\\s+(${a[n.XRANGEPLAINLOOSE]})\\s*$`),d("STAR","(<|>)?=?\\s*\\*"),d("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),d("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(te,te.exports)),te.exports}var ye,It;function ct(){if(It)return ye;It=1;const t=Object.freeze({loose:!0}),e=Object.freeze({});return ye=s=>s?typeof s!="object"?t:s:e,ye}var Ee,Rt;function yr(){if(Rt)return Ee;Rt=1;const t=/^[0-9]+$/,e=(s,o)=>{if(typeof s=="number"&&typeof o=="number")return s===o?0:s<o?-1:1;const u=t.test(s),i=t.test(o);return u&&i&&(s=+s,o=+o),s===o?0:u&&!i?-1:i&&!u?1:s<o?-1:1};return Ee={compareIdentifiers:e,rcompareIdentifiers:(s,o)=>e(o,s)},Ee}var ge,St;function U(){if(St)return ge;St=1;const t=se(),{MAX_LENGTH:e,MAX_SAFE_INTEGER:r}=re(),{safeRe:s,t:o}=Q(),u=ct(),{compareIdentifiers:i}=yr();class l{constructor(c,n){if(n=u(n),c instanceof l){if(c.loose===!!n.loose&&c.includePrerelease===!!n.includePrerelease)return c;c=c.version}else if(typeof c!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof c}".`);if(c.length>e)throw new TypeError(`version is longer than ${e} characters`);t("SemVer",c,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;const f=c.trim().match(n.loose?s[o.LOOSE]:s[o.FULL]);if(!f)throw new TypeError(`Invalid Version: ${c}`);if(this.raw=c,this.major=+f[1],this.minor=+f[2],this.patch=+f[3],this.major>r||this.major<0)throw new TypeError("Invalid major version");if(this.minor>r||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>r||this.patch<0)throw new TypeError("Invalid patch version");f[4]?this.prerelease=f[4].split(".").map(h=>{if(/^[0-9]+$/.test(h)){const y=+h;if(y>=0&&y<r)return y}return h}):this.prerelease=[],this.build=f[5]?f[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(c){if(t("SemVer.compare",this.version,this.options,c),!(c instanceof l)){if(typeof c=="string"&&c===this.version)return 0;c=new l(c,this.options)}return c.version===this.version?0:this.compareMain(c)||this.comparePre(c)}compareMain(c){return c instanceof l||(c=new l(c,this.options)),this.major<c.major?-1:this.major>c.major?1:this.minor<c.minor?-1:this.minor>c.minor?1:this.patch<c.patch?-1:this.patch>c.patch?1:0}comparePre(c){if(c instanceof l||(c=new l(c,this.options)),this.prerelease.length&&!c.prerelease.length)return-1;if(!this.prerelease.length&&c.prerelease.length)return 1;if(!this.prerelease.length&&!c.prerelease.length)return 0;let n=0;do{const f=this.prerelease[n],h=c.prerelease[n];if(t("prerelease compare",n,f,h),f===void 0&&h===void 0)return 0;if(h===void 0)return 1;if(f===void 0)return-1;if(f===h)continue;return i(f,h)}while(++n)}compareBuild(c){c instanceof l||(c=new l(c,this.options));let n=0;do{const f=this.build[n],h=c.build[n];if(t("build compare",n,f,h),f===void 0&&h===void 0)return 0;if(h===void 0)return 1;if(f===void 0)return-1;if(f===h)continue;return i(f,h)}while(++n)}inc(c,n,f){if(c.startsWith("pre")){if(!n&&f===!1)throw new Error("invalid increment argument: identifier is empty");if(n){const h=`-${n}`.match(this.options.loose?s[o.PRERELEASELOOSE]:s[o.PRERELEASE]);if(!h||h[1]!==n)throw new Error(`invalid identifier: ${n}`)}}switch(c){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n,f);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n,f);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n,f),this.inc("pre",n,f);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n,f),this.inc("pre",n,f);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const h=Number(f)?1:0;if(this.prerelease.length===0)this.prerelease=[h];else{let y=this.prerelease.length;for(;--y>=0;)typeof this.prerelease[y]=="number"&&(this.prerelease[y]++,y=-2);if(y===-1){if(n===this.prerelease.join(".")&&f===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(h)}}if(n){let y=[n,h];f===!1&&(y=[n]),i(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=y):this.prerelease=y}break}default:throw new Error(`invalid increment argument: ${c}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return ge=l,ge}var Ie,wt;function V(){if(wt)return Ie;wt=1;const t=U();return Ie=(r,s,o=!1)=>{if(r instanceof t)return r;try{return new t(r,s)}catch(u){if(!o)return null;throw u}},Ie}var Re,Pt;function Vr(){if(Pt)return Re;Pt=1;const t=V();return Re=(r,s)=>{const o=t(r,s);return o?o.version:null},Re}var Se,At;function Br(){if(At)return Se;At=1;const t=V();return Se=(r,s)=>{const o=t(r.trim().replace(/^[=v]+/,""),s);return o?o.version:null},Se}var we,xt;function Wr(){if(xt)return we;xt=1;const t=U();return we=(r,s,o,u,i)=>{typeof o=="string"&&(i=u,u=o,o=void 0);try{return new t(r instanceof t?r.version:r,o).inc(s,u,i).version}catch{return null}},we}var Pe,vt;function Jr(){if(vt)return Pe;vt=1;const t=V();return Pe=(r,s)=>{const o=t(r,null,!0),u=t(s,null,!0),i=o.compare(u);if(i===0)return null;const l=i>0,a=l?o:u,c=l?u:o,n=!!a.prerelease.length;if(!!c.prerelease.length&&!n){if(!c.patch&&!c.minor)return"major";if(c.compareMain(a)===0)return c.minor&&!c.patch?"minor":"patch"}const h=n?"pre":"";return o.major!==u.major?h+"major":o.minor!==u.minor?h+"minor":o.patch!==u.patch?h+"patch":"prerelease"},Pe}var Ae,Tt;function Yr(){if(Tt)return Ae;Tt=1;const t=U();return Ae=(r,s)=>new t(r,s).major,Ae}var xe,Ot;function Kr(){if(Ot)return xe;Ot=1;const t=U();return xe=(r,s)=>new t(r,s).minor,xe}var ve,Nt;function Qr(){if(Nt)return ve;Nt=1;const t=U();return ve=(r,s)=>new t(r,s).patch,ve}var Te,$t;function Zr(){if($t)return Te;$t=1;const t=V();return Te=(r,s)=>{const o=t(r,s);return o&&o.prerelease.length?o.prerelease:null},Te}var Oe,bt;function j(){if(bt)return Oe;bt=1;const t=U();return Oe=(r,s,o)=>new t(r,o).compare(new t(s,o)),Oe}var Ne,Dt;function es(){if(Dt)return Ne;Dt=1;const t=j();return Ne=(r,s,o)=>t(s,r,o),Ne}var $e,Lt;function ts(){if(Lt)return $e;Lt=1;const t=j();return $e=(r,s)=>t(r,s,!0),$e}var be,Ct;function ut(){if(Ct)return be;Ct=1;const t=U();return be=(r,s,o)=>{const u=new t(r,o),i=new t(s,o);return u.compare(i)||u.compareBuild(i)},be}var De,Ft;function rs(){if(Ft)return De;Ft=1;const t=ut();return De=(r,s)=>r.sort((o,u)=>t(o,u,s)),De}var Le,qt;function ss(){if(qt)return Le;qt=1;const t=ut();return Le=(r,s)=>r.sort((o,u)=>t(u,o,s)),Le}var Ce,Ut;function oe(){if(Ut)return Ce;Ut=1;const t=j();return Ce=(r,s,o)=>t(r,s,o)>0,Ce}var Fe,Mt;function lt(){if(Mt)return Fe;Mt=1;const t=j();return Fe=(r,s,o)=>t(r,s,o)<0,Fe}var qe,kt;function Er(){if(kt)return qe;kt=1;const t=j();return qe=(r,s,o)=>t(r,s,o)===0,qe}var Ue,jt;function gr(){if(jt)return Ue;jt=1;const t=j();return Ue=(r,s,o)=>t(r,s,o)!==0,Ue}var Me,Xt;function ft(){if(Xt)return Me;Xt=1;const t=j();return Me=(r,s,o)=>t(r,s,o)>=0,Me}var ke,_t;function ht(){if(_t)return ke;_t=1;const t=j();return ke=(r,s,o)=>t(r,s,o)<=0,ke}var je,Gt;function Ir(){if(Gt)return je;Gt=1;const t=Er(),e=gr(),r=oe(),s=ft(),o=lt(),u=ht();return je=(l,a,c,n)=>{switch(a){case"===":return typeof l=="object"&&(l=l.version),typeof c=="object"&&(c=c.version),l===c;case"!==":return typeof l=="object"&&(l=l.version),typeof c=="object"&&(c=c.version),l!==c;case"":case"=":case"==":return t(l,c,n);case"!=":return e(l,c,n);case">":return r(l,c,n);case">=":return s(l,c,n);case"<":return o(l,c,n);case"<=":return u(l,c,n);default:throw new TypeError(`Invalid operator: ${a}`)}},je}var Xe,zt;function os(){if(zt)return Xe;zt=1;const t=U(),e=V(),{safeRe:r,t:s}=Q();return Xe=(u,i)=>{if(u instanceof t)return u;if(typeof u=="number"&&(u=String(u)),typeof u!="string")return null;i=i||{};let l=null;if(!i.rtl)l=u.match(i.includePrerelease?r[s.COERCEFULL]:r[s.COERCE]);else{const y=i.includePrerelease?r[s.COERCERTLFULL]:r[s.COERCERTL];let x;for(;(x=y.exec(u))&&(!l||l.index+l[0].length!==u.length);)(!l||x.index+x[0].length!==l.index+l[0].length)&&(l=x),y.lastIndex=x.index+x[1].length+x[2].length;y.lastIndex=-1}if(l===null)return null;const a=l[2],c=l[3]||"0",n=l[4]||"0",f=i.includePrerelease&&l[5]?`-${l[5]}`:"",h=i.includePrerelease&&l[6]?`+${l[6]}`:"";return e(`${a}.${c}.${n}${f}${h}`,i)},Xe}var _e,Ht;function ns(){if(Ht)return _e;Ht=1;class t{constructor(){this.max=1e3,this.map=new Map}get(r){const s=this.map.get(r);if(s!==void 0)return this.map.delete(r),this.map.set(r,s),s}delete(r){return this.map.delete(r)}set(r,s){if(!this.delete(r)&&s!==void 0){if(this.map.size>=this.max){const u=this.map.keys().next().value;this.delete(u)}this.map.set(r,s)}return this}}return _e=t,_e}var Ge,Vt;function X(){if(Vt)return Ge;Vt=1;const t=/\s+/g;class e{constructor(p,R){if(R=o(R),p instanceof e)return p.loose===!!R.loose&&p.includePrerelease===!!R.includePrerelease?p:new e(p.raw,R);if(p instanceof u)return this.raw=p.value,this.set=[[p]],this.formatted=void 0,this;if(this.options=R,this.loose=!!R.loose,this.includePrerelease=!!R.includePrerelease,this.raw=p.trim().replace(t," "),this.set=this.raw.split("||").map(E=>this.parseRange(E.trim())).filter(E=>E.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const E=this.set[0];if(this.set=this.set.filter(S=>!d(S[0])),this.set.length===0)this.set=[E];else if(this.set.length>1){for(const S of this.set)if(S.length===1&&I(S[0])){this.set=[S];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let p=0;p<this.set.length;p++){p>0&&(this.formatted+="||");const R=this.set[p];for(let E=0;E<R.length;E++)E>0&&(this.formatted+=" "),this.formatted+=R[E].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(p){const E=((this.options.includePrerelease&&y)|(this.options.loose&&x))+":"+p,S=s.get(E);if(S)return S;const g=this.options.loose,w=g?a[c.HYPHENRANGELOOSE]:a[c.HYPHENRANGE];p=p.replace(w,le(this.options.includePrerelease)),i("hyphen replace",p),p=p.replace(a[c.COMPARATORTRIM],n),i("comparator trim",p),p=p.replace(a[c.TILDETRIM],f),i("tilde trim",p),p=p.replace(a[c.CARETTRIM],h),i("caret trim",p);let O=p.split(" ").map(D=>b(D,this.options)).join(" ").split(/\s+/).map(D=>ue(D,this.options));g&&(O=O.filter(D=>(i("loose invalid filter",D,this.options),!!D.match(a[c.COMPARATORLOOSE])))),i("range list",O);const A=new Map,N=O.map(D=>new u(D,this.options));for(const D of N){if(d(D))return[D];A.set(D.value,D)}A.size>1&&A.has("")&&A.delete("");const q=[...A.values()];return s.set(E,q),q}intersects(p,R){if(!(p instanceof e))throw new TypeError("a Range is required");return this.set.some(E=>v(E,R)&&p.set.some(S=>v(S,R)&&E.every(g=>S.every(w=>g.intersects(w,R)))))}test(p){if(!p)return!1;if(typeof p=="string")try{p=new l(p,this.options)}catch{return!1}for(let R=0;R<this.set.length;R++)if(fe(this.set[R],p,this.options))return!0;return!1}}Ge=e;const r=ns(),s=new r,o=ct(),u=ne(),i=se(),l=U(),{safeRe:a,t:c,comparatorTrimReplace:n,tildeTrimReplace:f,caretTrimReplace:h}=Q(),{FLAG_INCLUDE_PRERELEASE:y,FLAG_LOOSE:x}=re(),d=m=>m.value==="<0.0.0-0",I=m=>m.value==="",v=(m,p)=>{let R=!0;const E=m.slice();let S=E.pop();for(;R&&E.length;)R=E.every(g=>S.intersects(g,p)),S=E.pop();return R},b=(m,p)=>(m=m.replace(a[c.BUILD],""),i("comp",m,p),m=$(m,p),i("caret",m),m=F(m,p),i("tildes",m),m=P(m,p),i("xrange",m),m=ce(m,p),i("stars",m),m),T=m=>!m||m.toLowerCase()==="x"||m==="*",F=(m,p)=>m.trim().split(/\s+/).map(R=>M(R,p)).join(" "),M=(m,p)=>{const R=p.loose?a[c.TILDELOOSE]:a[c.TILDE];return m.replace(R,(E,S,g,w,O)=>{i("tilde",m,E,S,g,w,O);let A;return T(S)?A="":T(g)?A=`>=${S}.0.0 <${+S+1}.0.0-0`:T(w)?A=`>=${S}.${g}.0 <${S}.${+g+1}.0-0`:O?(i("replaceTilde pr",O),A=`>=${S}.${g}.${w}-${O} <${S}.${+g+1}.0-0`):A=`>=${S}.${g}.${w} <${S}.${+g+1}.0-0`,i("tilde return",A),A})},$=(m,p)=>m.trim().split(/\s+/).map(R=>L(R,p)).join(" "),L=(m,p)=>{i("caret",m,p);const R=p.loose?a[c.CARETLOOSE]:a[c.CARET],E=p.includePrerelease?"-0":"";return m.replace(R,(S,g,w,O,A)=>{i("caret",m,S,g,w,O,A);let N;return T(g)?N="":T(w)?N=`>=${g}.0.0${E} <${+g+1}.0.0-0`:T(O)?g==="0"?N=`>=${g}.${w}.0${E} <${g}.${+w+1}.0-0`:N=`>=${g}.${w}.0${E} <${+g+1}.0.0-0`:A?(i("replaceCaret pr",A),g==="0"?w==="0"?N=`>=${g}.${w}.${O}-${A} <${g}.${w}.${+O+1}-0`:N=`>=${g}.${w}.${O}-${A} <${g}.${+w+1}.0-0`:N=`>=${g}.${w}.${O}-${A} <${+g+1}.0.0-0`):(i("no pr"),g==="0"?w==="0"?N=`>=${g}.${w}.${O}${E} <${g}.${w}.${+O+1}-0`:N=`>=${g}.${w}.${O}${E} <${g}.${+w+1}.0-0`:N=`>=${g}.${w}.${O} <${+g+1}.0.0-0`),i("caret return",N),N})},P=(m,p)=>(i("replaceXRanges",m,p),m.split(/\s+/).map(R=>B(R,p)).join(" ")),B=(m,p)=>{m=m.trim();const R=p.loose?a[c.XRANGELOOSE]:a[c.XRANGE];return m.replace(R,(E,S,g,w,O,A)=>{i("xRange",m,E,S,g,w,O,A);const N=T(g),q=N||T(w),D=q||T(O),W=D;return S==="="&&W&&(S=""),A=p.includePrerelease?"-0":"",N?S===">"||S==="<"?E="<0.0.0-0":E="*":S&&W?(q&&(w=0),O=0,S===">"?(S=">=",q?(g=+g+1,w=0,O=0):(w=+w+1,O=0)):S==="<="&&(S="<",q?g=+g+1:w=+w+1),S==="<"&&(A="-0"),E=`${S+g}.${w}.${O}${A}`):q?E=`>=${g}.0.0${A} <${+g+1}.0.0-0`:D&&(E=`>=${g}.${w}.0${A} <${g}.${+w+1}.0-0`),i("xRange return",E),E})},ce=(m,p)=>(i("replaceStars",m,p),m.trim().replace(a[c.STAR],"")),ue=(m,p)=>(i("replaceGTE0",m,p),m.trim().replace(a[p.includePrerelease?c.GTE0PRE:c.GTE0],"")),le=m=>(p,R,E,S,g,w,O,A,N,q,D,W)=>(T(E)?R="":T(S)?R=`>=${E}.0.0${m?"-0":""}`:T(g)?R=`>=${E}.${S}.0${m?"-0":""}`:w?R=`>=${R}`:R=`>=${R}${m?"-0":""}`,T(N)?A="":T(q)?A=`<${+N+1}.0.0-0`:T(D)?A=`<${N}.${+q+1}.0-0`:W?A=`<=${N}.${q}.${D}-${W}`:m?A=`<${N}.${q}.${+D+1}-0`:A=`<=${A}`,`${R} ${A}`.trim()),fe=(m,p,R)=>{for(let E=0;E<m.length;E++)if(!m[E].test(p))return!1;if(p.prerelease.length&&!R.includePrerelease){for(let E=0;E<m.length;E++)if(i(m[E].semver),m[E].semver!==u.ANY&&m[E].semver.prerelease.length>0){const S=m[E].semver;if(S.major===p.major&&S.minor===p.minor&&S.patch===p.patch)return!0}return!1}return!0};return Ge}var ze,Bt;function ne(){if(Bt)return ze;Bt=1;const t=Symbol("SemVer ANY");class e{static get ANY(){return t}constructor(n,f){if(f=r(f),n instanceof e){if(n.loose===!!f.loose)return n;n=n.value}n=n.trim().split(/\s+/).join(" "),i("comparator",n,f),this.options=f,this.loose=!!f.loose,this.parse(n),this.semver===t?this.value="":this.value=this.operator+this.semver.version,i("comp",this)}parse(n){const f=this.options.loose?s[o.COMPARATORLOOSE]:s[o.COMPARATOR],h=n.match(f);if(!h)throw new TypeError(`Invalid comparator: ${n}`);this.operator=h[1]!==void 0?h[1]:"",this.operator==="="&&(this.operator=""),h[2]?this.semver=new l(h[2],this.options.loose):this.semver=t}toString(){return this.value}test(n){if(i("Comparator.test",n,this.options.loose),this.semver===t||n===t)return!0;if(typeof n=="string")try{n=new l(n,this.options)}catch{return!1}return u(n,this.operator,this.semver,this.options)}intersects(n,f){if(!(n instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new a(n.value,f).test(this.value):n.operator===""?n.value===""?!0:new a(this.value,f).test(n.semver):(f=r(f),f.includePrerelease&&(this.value==="<0.0.0-0"||n.value==="<0.0.0-0")||!f.includePrerelease&&(this.value.startsWith("<0.0.0")||n.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&n.operator.startsWith(">")||this.operator.startsWith("<")&&n.operator.startsWith("<")||this.semver.version===n.semver.version&&this.operator.includes("=")&&n.operator.includes("=")||u(this.semver,"<",n.semver,f)&&this.operator.startsWith(">")&&n.operator.startsWith("<")||u(this.semver,">",n.semver,f)&&this.operator.startsWith("<")&&n.operator.startsWith(">")))}}ze=e;const r=ct(),{safeRe:s,t:o}=Q(),u=Ir(),i=se(),l=U(),a=X();return ze}var He,Wt;function ae(){if(Wt)return He;Wt=1;const t=X();return He=(r,s,o)=>{try{s=new t(s,o)}catch{return!1}return s.test(r)},He}var Ve,Jt;function as(){if(Jt)return Ve;Jt=1;const t=X();return Ve=(r,s)=>new t(r,s).set.map(o=>o.map(u=>u.value).join(" ").trim().split(" ")),Ve}var Be,Yt;function is(){if(Yt)return Be;Yt=1;const t=U(),e=X();return Be=(s,o,u)=>{let i=null,l=null,a=null;try{a=new e(o,u)}catch{return null}return s.forEach(c=>{a.test(c)&&(!i||l.compare(c)===-1)&&(i=c,l=new t(i,u))}),i},Be}var We,Kt;function cs(){if(Kt)return We;Kt=1;const t=U(),e=X();return We=(s,o,u)=>{let i=null,l=null,a=null;try{a=new e(o,u)}catch{return null}return s.forEach(c=>{a.test(c)&&(!i||l.compare(c)===1)&&(i=c,l=new t(i,u))}),i},We}var Je,Qt;function us(){if(Qt)return Je;Qt=1;const t=U(),e=X(),r=oe();return Je=(o,u)=>{o=new e(o,u);let i=new t("0.0.0");if(o.test(i)||(i=new t("0.0.0-0"),o.test(i)))return i;i=null;for(let l=0;l<o.set.length;++l){const a=o.set[l];let c=null;a.forEach(n=>{const f=new t(n.semver.version);switch(n.operator){case">":f.prerelease.length===0?f.patch++:f.prerelease.push(0),f.raw=f.format();case"":case">=":(!c||r(f,c))&&(c=f);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${n.operator}`)}}),c&&(!i||r(i,c))&&(i=c)}return i&&o.test(i)?i:null},Je}var Ye,Zt;function ls(){if(Zt)return Ye;Zt=1;const t=X();return Ye=(r,s)=>{try{return new t(r,s).range||"*"}catch{return null}},Ye}var Ke,er;function pt(){if(er)return Ke;er=1;const t=U(),e=ne(),{ANY:r}=e,s=X(),o=ae(),u=oe(),i=lt(),l=ht(),a=ft();return Ke=(n,f,h,y)=>{n=new t(n,y),f=new s(f,y);let x,d,I,v,b;switch(h){case">":x=u,d=l,I=i,v=">",b=">=";break;case"<":x=i,d=a,I=u,v="<",b="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(o(n,f,y))return!1;for(let T=0;T<f.set.length;++T){const F=f.set[T];let M=null,$=null;if(F.forEach(L=>{L.semver===r&&(L=new e(">=0.0.0")),M=M||L,$=$||L,x(L.semver,M.semver,y)?M=L:I(L.semver,$.semver,y)&&($=L)}),M.operator===v||M.operator===b||(!$.operator||$.operator===v)&&d(n,$.semver))return!1;if($.operator===b&&I(n,$.semver))return!1}return!0},Ke}var Qe,tr;function fs(){if(tr)return Qe;tr=1;const t=pt();return Qe=(r,s,o)=>t(r,s,">",o),Qe}var Ze,rr;function hs(){if(rr)return Ze;rr=1;const t=pt();return Ze=(r,s,o)=>t(r,s,"<",o),Ze}var et,sr;function ps(){if(sr)return et;sr=1;const t=X();return et=(r,s,o)=>(r=new t(r,o),s=new t(s,o),r.intersects(s,o)),et}var tt,or;function ds(){if(or)return tt;or=1;const t=ae(),e=j();return tt=(r,s,o)=>{const u=[];let i=null,l=null;const a=r.sort((h,y)=>e(h,y,o));for(const h of a)t(h,s,o)?(l=h,i||(i=h)):(l&&u.push([i,l]),l=null,i=null);i&&u.push([i,null]);const c=[];for(const[h,y]of u)h===y?c.push(h):!y&&h===a[0]?c.push("*"):y?h===a[0]?c.push(`<=${y}`):c.push(`${h} - ${y}`):c.push(`>=${h}`);const n=c.join(" || "),f=typeof s.raw=="string"?s.raw:String(s);return n.length<f.length?n:s},tt}var rt,nr;function ms(){if(nr)return rt;nr=1;const t=X(),e=ne(),{ANY:r}=e,s=ae(),o=j(),u=(f,h,y={})=>{if(f===h)return!0;f=new t(f,y),h=new t(h,y);let x=!1;e:for(const d of f.set){for(const I of h.set){const v=a(d,I,y);if(x=x||v!==null,v)continue e}if(x)return!1}return!0},i=[new e(">=0.0.0-0")],l=[new e(">=0.0.0")],a=(f,h,y)=>{if(f===h)return!0;if(f.length===1&&f[0].semver===r){if(h.length===1&&h[0].semver===r)return!0;y.includePrerelease?f=i:f=l}if(h.length===1&&h[0].semver===r){if(y.includePrerelease)return!0;h=l}const x=new Set;let d,I;for(const P of f)P.operator===">"||P.operator===">="?d=c(d,P,y):P.operator==="<"||P.operator==="<="?I=n(I,P,y):x.add(P.semver);if(x.size>1)return null;let v;if(d&&I){if(v=o(d.semver,I.semver,y),v>0)return null;if(v===0&&(d.operator!==">="||I.operator!=="<="))return null}for(const P of x){if(d&&!s(P,String(d),y)||I&&!s(P,String(I),y))return null;for(const B of h)if(!s(P,String(B),y))return!1;return!0}let b,T,F,M,$=I&&!y.includePrerelease&&I.semver.prerelease.length?I.semver:!1,L=d&&!y.includePrerelease&&d.semver.prerelease.length?d.semver:!1;$&&$.prerelease.length===1&&I.operator==="<"&&$.prerelease[0]===0&&($=!1);for(const P of h){if(M=M||P.operator===">"||P.operator===">=",F=F||P.operator==="<"||P.operator==="<=",d){if(L&&P.semver.prerelease&&P.semver.prerelease.length&&P.semver.major===L.major&&P.semver.minor===L.minor&&P.semver.patch===L.patch&&(L=!1),P.operator===">"||P.operator===">="){if(b=c(d,P,y),b===P&&b!==d)return!1}else if(d.operator===">="&&!s(d.semver,String(P),y))return!1}if(I){if($&&P.semver.prerelease&&P.semver.prerelease.length&&P.semver.major===$.major&&P.semver.minor===$.minor&&P.semver.patch===$.patch&&($=!1),P.operator==="<"||P.operator==="<="){if(T=n(I,P,y),T===P&&T!==I)return!1}else if(I.operator==="<="&&!s(I.semver,String(P),y))return!1}if(!P.operator&&(I||d)&&v!==0)return!1}return!(d&&F&&!I&&v!==0||I&&M&&!d&&v!==0||L||$)},c=(f,h,y)=>{if(!f)return h;const x=o(f.semver,h.semver,y);return x>0?f:x<0||h.operator===">"&&f.operator===">="?h:f},n=(f,h,y)=>{if(!f)return h;const x=o(f.semver,h.semver,y);return x<0?f:x>0||h.operator==="<"&&f.operator==="<="?h:f};return rt=u,rt}var st,ar;function ys(){if(ar)return st;ar=1;const t=Q(),e=re(),r=U(),s=yr(),o=V(),u=Vr(),i=Br(),l=Wr(),a=Jr(),c=Yr(),n=Kr(),f=Qr(),h=Zr(),y=j(),x=es(),d=ts(),I=ut(),v=rs(),b=ss(),T=oe(),F=lt(),M=Er(),$=gr(),L=ft(),P=ht(),B=Ir(),ce=os(),ue=ne(),le=X(),fe=ae(),m=as(),p=is(),R=cs(),E=us(),S=ls(),g=pt(),w=fs(),O=hs(),A=ps(),N=ds(),q=ms();return st={parse:o,valid:u,clean:i,inc:l,diff:a,major:c,minor:n,patch:f,prerelease:h,compare:y,rcompare:x,compareLoose:d,compareBuild:I,sort:v,rsort:b,gt:T,lt:F,eq:M,neq:$,gte:L,lte:P,cmp:B,coerce:ce,Comparator:ue,Range:le,satisfies:fe,toComparators:m,maxSatisfying:p,minSatisfying:R,minVersion:E,validRange:S,outside:g,gtr:w,ltr:O,intersects:A,simplifyRange:N,subset:q,SemVer:r,re:t.re,src:t.src,tokens:t.t,SEMVER_SPEC_VERSION:e.SEMVER_SPEC_VERSION,RELEASE_TYPES:e.RELEASE_TYPES,compareIdentifiers:s.compareIdentifiers,rcompareIdentifiers:s.rcompareIdentifiers},st}var Es=ys();const H=Sr(Es),gs={meta:!0,version:"v1.18.0"},Is={port:7890,"socks-port":7891,"redir-port":0,"tproxy-port":0,"mixed-port":7893,mode:"rule","log-level":"info","allow-lan":!1,ipv6:!1,tun:{enable:!1,device:"utun",stack:"system","dns-hijack":null,"auto-route":!0,"auto-detect-interface":!0,"file-descriptor":0}};function Rs(t,e,r=""){return{network:"tcp",type:"HTTP Connect",destinationIP:e,destinationPort:"443",dnsMode:"normal",host:t,inboundIP:"127.0.0.1",inboundName:"mixed-in",inboundPort:"7893",inboundUser:"",process:r,processPath:r?`/Applications/${r}.app`:"",remoteDestination:"",sniffHost:t,sourceIP:"192.168.1.100",sourcePort:"52341",specialProxy:"",specialRules:"",uid:501}}function k(t,e,r,s,o){return{name:t,type:e,all:s||[],history:r?[{delay:r,time:new Date().toISOString()}]:[],udp:!0,xudp:e==="Hysteria2"||e==="VLESS",tfo:!1,extra:{},hidden:!1,now:o||""}}function J(t,e,r){return{name:t,type:e,alive:!0,tfo:!1,udp:!0,xudp:!1,now:"",id:t,extra:{},history:r?[{delay:r,time:new Date().toISOString()}]:[]}}const Ss={DIRECT:k("DIRECT","Direct"),REJECT:k("REJECT","Reject"),"Hong Kong":k("Hong Kong","Shadowsocks",85),Japan:k("Japan","Vmess",120),Singapore:k("Singapore","Trojan",65),"United States":k("United States","Hysteria2",180),Taiwan:k("Taiwan","VLESS",95),"Auto Select":k("Auto Select","URLTest",void 0,["Hong Kong","Japan","Singapore","United States","Taiwan"],"Singapore"),Proxy:k("Proxy","Selector",void 0,["Auto Select","Hong Kong","Japan","Singapore","United States","Taiwan","DIRECT"],"Auto Select"),Streaming:k("Streaming","Selector",void 0,["Proxy","Hong Kong","Japan","Singapore","Taiwan","DIRECT"],"Japan"),"AI Services":k("AI Services","Selector",void 0,["Proxy","United States","Japan","Singapore"],"United States")},ws={"Provider A":{name:"Provider A",type:"Proxy",vehicleType:"HTTP",testUrl:"https://www.gstatic.com/generate_204",proxies:[J("Hong Kong","Shadowsocks",85),J("Japan","Vmess",120),J("Singapore","Trojan",65)],updatedAt:new Date().toISOString(),subscriptionInfo:{Upload:1024*1024*100,Download:1024*1024*500,Total:1024*1024*1024*100,Expire:Math.floor(Date.now()/1e3)+720*60*60}},"Provider B":{name:"Provider B",type:"Proxy",vehicleType:"File",testUrl:"https://www.gstatic.com/generate_204",proxies:[J("United States","Hysteria2",180),J("Taiwan","VLESS",95)],updatedAt:new Date(Date.now()-1440*60*1e3).toISOString(),subscriptionInfo:{Upload:1024*1024*50,Download:1024*1024*200,Total:1024*1024*1024*50,Expire:Math.floor(Date.now()/1e3)+1440*60*60}}},Ps=As();function As(){return[{type:"DOMAIN-SUFFIX",payload:"google.com",proxy:"Proxy",size:156},{type:"DOMAIN-SUFFIX",payload:"googleapis.com",proxy:"Proxy",size:89},{type:"DOMAIN-SUFFIX",payload:"gstatic.com",proxy:"Proxy",size:234},{type:"DOMAIN-SUFFIX",payload:"github.com",proxy:"Proxy",size:178},{type:"DOMAIN-SUFFIX",payload:"githubusercontent.com",proxy:"Proxy",size:445},{type:"DOMAIN-SUFFIX",payload:"openai.com",proxy:"AI Services",size:67},{type:"DOMAIN-SUFFIX",payload:"anthropic.com",proxy:"AI Services",size:34},{type:"DOMAIN-SUFFIX",payload:"claude.ai",proxy:"AI Services",size:23},{type:"DOMAIN-SUFFIX",payload:"netflix.com",proxy:"Streaming",size:512},{type:"DOMAIN-SUFFIX",payload:"nflxvideo.net",proxy:"Streaming",size:1024},{type:"DOMAIN-SUFFIX",payload:"youtube.com",proxy:"Streaming",size:789},{type:"DOMAIN-SUFFIX",payload:"ytimg.com",proxy:"Streaming",size:456},{type:"DOMAIN-SUFFIX",payload:"googlevideo.com",proxy:"Streaming",size:2048},{type:"DOMAIN-SUFFIX",payload:"twitter.com",proxy:"Proxy",size:345},{type:"DOMAIN-SUFFIX",payload:"x.com",proxy:"Proxy",size:123},{type:"DOMAIN-SUFFIX",payload:"twimg.com",proxy:"Proxy",size:567},{type:"DOMAIN-SUFFIX",payload:"facebook.com",proxy:"Proxy",size:890},{type:"DOMAIN-SUFFIX",payload:"fbcdn.net",proxy:"Proxy",size:1234},{type:"DOMAIN-SUFFIX",payload:"instagram.com",proxy:"Proxy",size:678},{type:"DOMAIN-SUFFIX",payload:"cdninstagram.com",proxy:"Proxy",size:901},{type:"DOMAIN-SUFFIX",payload:"telegram.org",proxy:"Proxy",size:234},{type:"DOMAIN-SUFFIX",payload:"t.me",proxy:"Proxy",size:56},{type:"DOMAIN-SUFFIX",payload:"whatsapp.com",proxy:"Proxy",size:345},{type:"DOMAIN-SUFFIX",payload:"discord.com",proxy:"Proxy",size:456},{type:"DOMAIN-SUFFIX",payload:"discordapp.com",proxy:"Proxy",size:567},{type:"DOMAIN-SUFFIX",payload:"spotify.com",proxy:"Streaming",size:678},{type:"DOMAIN-SUFFIX",payload:"scdn.co",proxy:"Streaming",size:789},{type:"DOMAIN-SUFFIX",payload:"twitch.tv",proxy:"Streaming",size:890},{type:"DOMAIN-SUFFIX",payload:"ttvnw.net",proxy:"Streaming",size:1567},{type:"DOMAIN-SUFFIX",payload:"reddit.com",proxy:"Proxy",size:234},{type:"DOMAIN-SUFFIX",payload:"redd.it",proxy:"Proxy",size:123},{type:"DOMAIN-SUFFIX",payload:"medium.com",proxy:"Proxy",size:345},{type:"DOMAIN-SUFFIX",payload:"wikipedia.org",proxy:"Proxy",size:456},{type:"DOMAIN-SUFFIX",payload:"wikimedia.org",proxy:"Proxy",size:567},{type:"DOMAIN-KEYWORD",payload:"google",proxy:"Proxy",size:12},{type:"DOMAIN-KEYWORD",payload:"facebook",proxy:"Proxy",size:8},{type:"DOMAIN-KEYWORD",payload:"youtube",proxy:"Streaming",size:6},{type:"DOMAIN-KEYWORD",payload:"twitter",proxy:"Proxy",size:5},{type:"DOMAIN-KEYWORD",payload:"netflix",proxy:"Streaming",size:4},{type:"GEOIP",payload:"CN",proxy:"DIRECT",size:8945},{type:"GEOIP",payload:"PRIVATE",proxy:"DIRECT",size:156},{type:"IP-CIDR",payload:"192.168.0.0/16",proxy:"DIRECT",size:1},{type:"IP-CIDR",payload:"10.0.0.0/8",proxy:"DIRECT",size:1},{type:"IP-CIDR",payload:"172.16.0.0/12",proxy:"DIRECT",size:1},{type:"IP-CIDR",payload:"127.0.0.0/8",proxy:"DIRECT",size:1},{type:"IP-CIDR",payload:"100.64.0.0/10",proxy:"DIRECT",size:1},{type:"IP-CIDR6",payload:"::1/128",proxy:"DIRECT",size:1},{type:"IP-CIDR6",payload:"fc00::/7",proxy:"DIRECT",size:1},{type:"IP-CIDR6",payload:"fe80::/10",proxy:"DIRECT",size:1},{type:"PROCESS-NAME",payload:"Telegram",proxy:"Proxy",size:1},{type:"PROCESS-NAME",payload:"Discord",proxy:"Proxy",size:1},{type:"PROCESS-NAME",payload:"Spotify",proxy:"Streaming",size:1},{type:"RULE-SET",payload:"reject",proxy:"REJECT",size:1234},{type:"RULE-SET",payload:"direct",proxy:"DIRECT",size:5678},{type:"RULE-SET",payload:"proxy",proxy:"Proxy",size:2345},{type:"MATCH",payload:"",proxy:"Proxy",size:1}]}const xs={reject:{name:"reject",type:"Rule",behavior:"domain",ruleCount:1234,updatedAt:new Date().toISOString(),vehicleType:"HTTP",format:"yaml"},direct:{name:"direct",type:"Rule",behavior:"domain",ruleCount:5678,updatedAt:new Date(Date.now()-720*60*1e3).toISOString(),vehicleType:"HTTP",format:"yaml"},proxy:{name:"proxy",type:"Rule",behavior:"classical",ruleCount:2345,updatedAt:new Date(Date.now()-360*60*1e3).toISOString(),vehicleType:"HTTP",format:"yaml"}},vs=Ts();function Ts(){const t=[{host:"www.google.com",ip:"142.250.185.14",proxy:"Proxy",rule:"DOMAIN-SUFFIX",rulePayload:"google.com"},{host:"github.com",ip:"140.82.121.4",proxy:"Proxy",rule:"DOMAIN-SUFFIX",rulePayload:"github.com"},{host:"api.github.com",ip:"140.82.121.6",proxy:"Proxy",rule:"DOMAIN-SUFFIX",rulePayload:"github.com"},{host:"raw.githubusercontent.com",ip:"185.199.108.133",proxy:"Proxy",rule:"DOMAIN-SUFFIX",rulePayload:"githubusercontent.com"},{host:"www.youtube.com",ip:"172.217.14.110",proxy:"Streaming",rule:"DOMAIN-SUFFIX",rulePayload:"youtube.com"},{host:"i.ytimg.com",ip:"172.217.14.118",proxy:"Streaming",rule:"DOMAIN-SUFFIX",rulePayload:"ytimg.com"},{host:"api.openai.com",ip:"104.18.12.191",proxy:"AI Services",rule:"DOMAIN-SUFFIX",rulePayload:"openai.com"},{host:"chat.openai.com",ip:"104.18.13.191",proxy:"AI Services",rule:"DOMAIN-SUFFIX",rulePayload:"openai.com"},{host:"api.anthropic.com",ip:"104.18.32.47",proxy:"AI Services",rule:"DOMAIN-SUFFIX",rulePayload:"anthropic.com"},{host:"claude.ai",ip:"104.18.33.47",proxy:"AI Services",rule:"DOMAIN-SUFFIX",rulePayload:"claude.ai"},{host:"www.netflix.com",ip:"54.74.73.31",proxy:"Streaming",rule:"DOMAIN-SUFFIX",rulePayload:"netflix.com"},{host:"twitter.com",ip:"104.244.42.1",proxy:"Proxy",rule:"DOMAIN-SUFFIX",rulePayload:"twitter.com"},{host:"x.com",ip:"104.244.42.65",proxy:"Proxy",rule:"DOMAIN-SUFFIX",rulePayload:"x.com"},{host:"www.facebook.com",ip:"157.240.1.35",proxy:"Proxy",rule:"DOMAIN-SUFFIX",rulePayload:"facebook.com"},{host:"www.instagram.com",ip:"157.240.1.174",proxy:"Proxy",rule:"DOMAIN-SUFFIX",rulePayload:"instagram.com"},{host:"web.telegram.org",ip:"149.154.167.99",proxy:"Proxy",rule:"DOMAIN-SUFFIX",rulePayload:"telegram.org"},{host:"discord.com",ip:"162.159.130.234",proxy:"Proxy",rule:"DOMAIN-SUFFIX",rulePayload:"discord.com"},{host:"cdn.discordapp.com",ip:"162.159.133.234",proxy:"Proxy",rule:"DOMAIN-SUFFIX",rulePayload:"discordapp.com"},{host:"open.spotify.com",ip:"35.186.224.25",proxy:"Streaming",rule:"DOMAIN-SUFFIX",rulePayload:"spotify.com"},{host:"www.twitch.tv",ip:"151.101.2.167",proxy:"Streaming",rule:"DOMAIN-SUFFIX",rulePayload:"twitch.tv"},{host:"www.reddit.com",ip:"151.101.1.140",proxy:"Proxy",rule:"DOMAIN-SUFFIX",rulePayload:"reddit.com"},{host:"medium.com",ip:"162.159.152.4",proxy:"Proxy",rule:"DOMAIN-SUFFIX",rulePayload:"medium.com"},{host:"en.wikipedia.org",ip:"208.80.154.224",proxy:"Proxy",rule:"DOMAIN-SUFFIX",rulePayload:"wikipedia.org"},{host:"www.whatsapp.com",ip:"157.240.1.60",proxy:"Proxy",rule:"DOMAIN-SUFFIX",rulePayload:"whatsapp.com"},{host:"www.baidu.com",ip:"110.242.68.66",proxy:"DIRECT",rule:"GEOIP",rulePayload:"CN"},{host:"www.taobao.com",ip:"140.205.94.189",proxy:"DIRECT",rule:"GEOIP",rulePayload:"CN"},{host:"www.bilibili.com",ip:"120.92.78.97",proxy:"DIRECT",rule:"GEOIP",rulePayload:"CN"},{host:"www.zhihu.com",ip:"103.41.167.234",proxy:"DIRECT",rule:"GEOIP",rulePayload:"CN"}],e=["Google Chrome","Safari","Firefox","Visual Studio Code","Electron","node","curl","Telegram","Discord","Spotify"],r=[["Proxy","Auto Select","Hong Kong"],["Proxy","Auto Select","Singapore"],["Proxy","Auto Select","Japan"],["Streaming","Japan"],["Streaming","Hong Kong"],["AI Services","United States"],["DIRECT"]],s=[];for(let o=0;o<60;o++){const u=t[o%t.length],i=e[Math.floor(Math.random()*e.length)],l=u.proxy==="DIRECT"?["DIRECT"]:r[Math.floor(Math.random()*(r.length-1))],a=Math.random()>.85;s.push({id:`conn-${o+1}`,metadata:{...Rs(u.host,u.ip,i),network:a?"udp":"tcp",type:a?"QUIC":"HTTP Connect",sourcePort:String(5e4+o)},upload:Math.floor(Math.random()*1024*1024),download:Math.floor(Math.random()*1024*1024*10),downloadSpeed:Math.floor(Math.random()*1024*500),uploadSpeed:Math.floor(Math.random()*1024*100),start:new Date(Date.now()-Math.floor(Math.random()*6e5)).toISOString(),chains:l,rule:u.rule,rulePayload:u.rulePayload})}return s}const Os=Ns();function Ns(){const t=[{type:_.Info,template:"[DNS] resolve {host} to {ip}"},{type:_.Info,template:"[TCP] {srcIP}:{srcPort} --> {host}:{destPort} match {rule}({payload}) using {proxy}"},{type:_.Info,template:"[UDP] {srcIP}:{srcPort} --> {host}:{destPort} match {rule}({payload}) using {proxy}"},{type:_.Debug,template:"[Proxy] {node} latency: {latency}ms"},{type:_.Warning,template:"[UDP] connection to {ip}:{destPort} timeout"},{type:_.Info,template:"[TUN] {srcIP} --> {host} using {proxy}"},{type:_.Debug,template:"[DNS] cache hit for {host}"},{type:_.Info,template:"[QUIC] {srcIP}:{srcPort} --> {host}:{destPort} match {rule}({payload}) using {proxy}"}],e=["www.google.com","github.com","api.openai.com","www.youtube.com","twitter.com","www.netflix.com","discord.com","www.twitch.tv","open.spotify.com","www.reddit.com","medium.com","www.facebook.com","www.instagram.com","web.telegram.org","claude.ai","www.baidu.com","www.bilibili.com"],r=["142.250.185.14","140.82.121.4","104.18.12.191","172.217.14.110","104.244.42.1","54.74.73.31","162.159.130.234","151.101.2.167","35.186.224.25","151.101.1.140","162.159.152.4","157.240.1.35","157.240.1.174","149.154.167.99","104.18.33.47","110.242.68.66","120.92.78.97"],s=["Hong Kong","Singapore","Japan","United States","Taiwan"],o=["Proxy[Auto Select(Hong Kong)]","Proxy[Auto Select(Singapore)]","Streaming[Japan]","AI Services[United States]","DIRECT"],u=["DOMAIN-SUFFIX","DOMAIN-KEYWORD","GEOIP","IP-CIDR","MATCH"],i=[];for(let l=0;l<60;l++){const a=t[l%t.length],c=e[Math.floor(Math.random()*e.length)],n=r[Math.floor(Math.random()*r.length)],f=s[Math.floor(Math.random()*s.length)],h=o[Math.floor(Math.random()*o.length)],y=u[Math.floor(Math.random()*u.length)],x=a.template.replace("{host}",c).replace("{ip}",n).replace("{srcIP}","192.168.1.100").replace("{srcPort}",String(5e4+l)).replace("{destPort}","443").replace("{node}",f).replace("{latency}",String(50+Math.floor(Math.random()*150))).replace("{proxy}",h).replace("{rule}",y).replace("{payload}",c);i.push({type:a.type,payload:x})}return i}const $s={up:125e6,down:85e7},bs={inuse:45*1024*1024,oslimit:0};function Ds(){return{mockVersion:gs,mockConfig:Is,mockProxies:Ss,mockProxyProviders:ws,mockRules:Ps,mockRuleProviders:xs,mockConnections:vs,mockLogs:Os,mockTrafficStats:$s,mockMemory:bs}}function Ls(){return ir().public.mockMode===!0}function Cs(t){const r=ir().public.mockMode===!0?Ds():null;if(!r)return{};const s=t.startsWith("/")?t.slice(1):t;if(s==="version")return r.mockVersion;if(s==="configs")return r.mockConfig;if(s==="proxies")return{proxies:r.mockProxies};if(s==="providers/proxies")return{providers:r.mockProxyProviders};if(s==="rules"){const o={};return r.mockRules.forEach((u,i)=>{o[`rule-${i}`]=u}),{rules:o}}if(s==="providers/rules")return{providers:r.mockRuleProviders};if(s==="connections")return{connections:r.mockConnections,downloadTotal:85e7,uploadTotal:125e6};if(s==="group")return{groups:{}};if(s.startsWith("proxies/")){const o=decodeURIComponent(s.replace("proxies/",""));return r.mockProxies[o]||{}}if(s.startsWith("providers/proxies/")){const o=decodeURIComponent(s.replace("providers/proxies/",""));return r.mockProxyProviders[o]||{}}return{}}function C(){const e=Rr().currentEndpoint;if(Ls()){const s=async o=>Cs(o);return{get:o=>({json:()=>s(o)}),post:o=>({json:()=>s(o)}),put:o=>({json:()=>s(o)}),patch:o=>({json:()=>s(o)}),delete:o=>({json:()=>s(o)})}}if(!e)return K.create({});const r=new Headers;return e.secret&&r.set("Authorization",`Bearer ${e.secret}`),K.create({prefixUrl:e.url,headers:r})}function ie(){const t=new Headers;return K.create({prefixUrl:"https://api.github.com",headers:t})}function Ms(t,e){return K.get(t.endsWith("/")?`${t}version`:`${t}/version`,{headers:e?{Authorization:`Bearer ${e}`}:{}}).then(({ok:r})=>r).catch(r=>(console.error(r),!1))}function ks(){return C().delete("connections")}function js(t){return C().delete(`connections/${t}`)}function Xs(){return C().get("providers/proxies").json()}function _s(){return C().get("proxies").json()}function Gs(t){return C().put(`providers/proxies/${encodeURIComponent(t)}`)}function Fs(t){return C().get(`providers/proxies/${encodeURIComponent(t)}/healthcheck`,{timeout:20*1e3}).json()}function zs(t,e){return C().put(`proxies/${encodeURIComponent(t)}`,{body:JSON.stringify({name:e})})}function Hs(t,e,r,s){const o=C();return e!==""?Fs(e).then(u=>({delay:u[t]??0})):o.get(`proxies/${encodeURIComponent(t)}/delay`,{searchParams:{url:r,timeout:s}}).json()}function Vs(t,e,r){return C().get(`group/${encodeURIComponent(t)}/delay`,{searchParams:{url:e,timeout:r}}).json()}function Bs(){const t=G(!1),e=G(!1),r=G(!1),s=G(!1),o=G(!1),u=G(!1),i=G(!1),l=async()=>{const I=C();t.value=!0;try{await I.put("configs",{searchParams:{force:!0},json:{path:"",payload:""}})}catch{}t.value=!1},a=G(!1);return{reloadingConfigFile:t,updatingGEODatabases:e,flushingFakeIPData:r,flushingDNSCache:s,upgradingBackend:o,upgradingUI:u,restartingBackend:i,fetchingRemoteConfig:a,reloadConfigFileAPI:l,flushFakeIPDataAPI:async()=>{const I=C();r.value=!0;try{await I.post("cache/fakeip/flush")}catch{}r.value=!1},flushDNSCacheAPI:async()=>{const I=C();s.value=!0;try{await I.post("cache/dns/flush")}catch{}s.value=!1},updateGEODatabasesAPI:async()=>{const I=C();e.value=!0;try{await I.post("configs/geo")}catch{}e.value=!1},upgradeBackendAPI:async()=>{const I=C();o.value=!0;try{await I.post("upgrade")}catch{}o.value=!1},upgradeUIAPI:async()=>{const I=C();u.value=!0;try{await I.post("upgrade/ui")}catch{}u.value=!1},restartBackendAPI:async()=>{const I=C();i.value=!0;try{await I.post("restart")}catch{}i.value=!1},fetchRemoteConfigAPI:async I=>{const v=C();a.value=!0;try{const T=await(await K.get(I)).text();await v.put("configs",{searchParams:{force:!0},json:{path:"",payload:T}})}catch(b){throw console.error("Failed to fetch remote config:",b),b}finally{a.value=!1}}}}async function Ws(t){const e=ie(),{tag_name:r,body:s}=await e.get("repos/MetaCubeX/metacubexd/releases/latest").json();return{isUpdateAvailable:H.gt(H.coerce(r)||"0.0.0",H.coerce(t)||"0.0.0"),changelog:s}}async function Js(t){const e=ie(),r="repos/MetaCubeX/mihomo",s=/(alpha|beta|meta)-?(\w+)/.exec(t),o=async(l,a)=>{const{assets:c,body:n}=await e.get(`${r}/${l}`).json();return{isUpdateAvailable:!c.some(({name:h})=>h.includes(a)),changelog:n}};if(s){const l=s[2]||"",a=s[1]||"";return a==="meta"?await o("releases/latest",l):a==="alpha"?await o("releases/tags/Prerelease-Alpha",l):{isUpdateAvailable:!1}}const{tag_name:u,body:i}=await e.get(`${r}/releases/latest`).json();return{isUpdateAvailable:H.gt(H.coerce(u)||"0.0.0",H.coerce(t)||"0.0.0"),changelog:i}}async function Ys(t,e=10){return(await ie().get("repos/MetaCubeX/metacubexd/releases",{searchParams:{per_page:e}}).json()).map(o=>({version:o.tag_name,changelog:o.body,publishedAt:o.published_at,isCurrent:o.tag_name===t}))}async function Ks(t,e=10){const r=ie(),s="repos/MetaCubeX/mihomo",o=/(alpha|beta|meta)-?(\w+)/.exec(t);if(!o){let a=await r.get(`${s}/releases`,{searchParams:{per_page:e}}).json();return a=a.filter(c=>!c.tag_name.includes("Alpha")&&!c.tag_name.includes("Prerelease")),a.map(c=>({version:c.tag_name,changelog:c.body,publishedAt:c.published_at,isCurrent:c.tag_name===t}))}const u=o[1]||"",i=o[2]||"";let l=[];return u==="meta"?(l=await r.get(`${s}/releases`,{searchParams:{per_page:e}}).json(),l=l.filter(a=>!a.tag_name.includes("Alpha")&&!a.tag_name.includes("Prerelease"))):u==="alpha"&&(l=await r.get(`${s}/releases`,{searchParams:{per_page:e*2}}).json(),l=l.filter(a=>a.tag_name.includes("Alpha")||a.tag_name.includes("Prerelease")).slice(0,e)),l.map(a=>({version:a.tag_name,changelog:a.body,publishedAt:a.published_at,isCurrent:a.assets?.some(({name:c})=>c.includes(i))??!1}))}export{C as a,js as b,Ms as c,ks as d,Ls as e,Ds as f,Sr as g,Ws as h,Js as i,Ys as j,K as k,Ks as l,Xs as m,_s as n,Vs as o,Hs as p,Gs as q,Fs as r,zs as s,Bs as u};
